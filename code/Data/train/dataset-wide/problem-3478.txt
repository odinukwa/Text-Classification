Some corporate anti-virus products (e.g. McAfee, Sophos, Symantec) include this function as something that can be enabled corporately. Maybe your corporate anti-virus solution has this as a feature. 

I have a Sharepoint (OSS 2007) farm running on three virtual machines in VMWare ESX, plus a SQL Server backend on physical hardware. During a recent Business Continuity Planning event I tried restoring the sharepoint farm with only the config and content databases, and failed to get things working. My plan was to build a new sharepoint server, then attach this to a restoration config database and install the Central Management site on this server, then reattach the content databases. This failed at the Central Management part of the plan. So I am back to the drawing board on the best strategy for backup and recovery, with reducing the time and complexity of the restore job the main objective. I haven't been able to find much in the way of discussion of backup/restore strategies for Sharepoint in a VMWare environment, so I figured I'd see if anyone on server fault has any ideas or experience. 

I look after a bunch of remote offices that connect via VPN - a Cisco ASA 5505 in each office acts as Firewall and VPN end point. Beyond that we keep things as simple as possible in the offices to minimise the support burden. We don't have any kind of server except in offices large enough to justify having someone dedicated to IT. Basically there is the ASA, some computers, a network printer and a switch. One of the problems I am seeing in a lot of offices is that DNS requests looking up hosts inside our network often fail - I'm assuming timeouts due to the offices internet connection (they are all in developing world countries) having some sub-optimal qualities (e.g. high latency caused by VSAT segments, or packet loss. The obvious solution to this is to have some sort of local DNS service that can serve local requests - so I think it would need to do zone transfers from our Microsoft Windows 2008 R2 DNS servers at HQ. However, simply installing Windows Servers in each office is both expensive, and creates a support burden. This got me thinking about pfsense/m0n0wall on embedded devices - those can act as a DNS server, and could be configured at HQ and sent out as just something that needs to be plugged into the network and can then be forgotten about by the staff locally. Maybe there are some alternatives to the ASA 5505 that include some DNS functionality. Has anyone here dealt with the problem, either using some kind of embedded device, or found some other solution? Any gotchas or reasons to avoid what I have suggested? 

Whether or not the hardware will run all that, running production systems on a single virtualisation system alongside test and development systems which are going to be powered up and down fairly sporadically sounds like a bad idea to me. 

I am trying to replace some of the, frankly dreadful, out of box page layouts in Sharepoint 2007. I have followed the documentation provided by Microsoft but this does not result in my page layout appearing in the Page Layouts list on Create Page. Has anyone had success following Microsoft's instructions? Is there a missing step here? 

This is also logged in the Appication Windows log as an Unhandled Exception for the .Net app. Both the developer and I suspect this is related to the Security Settings on the server. The account in question is already added to the Allow log on locally and Log on as a batch job. There are SO many options, millions of permutations, that it will take ages to figure out what is correct. If I set the account as a Domain Admin then it works, but I don't like just setting things to the equivalent of root rather than figuring out the appropriate security level. Does anyone recognise this specific issue, or have any pointers for how to figure out which security settings need changing? 

If you plan to run more VMs than the number of LUNs per host shown in the Configuration Maximums doc for your version of VMware you wouldn't want to have one LUN per VM. For vSphere 4.1 that is 256. For ESX 3.5 it is only 62 (as I learnt yesterday when I couldn't see some new LUNs I was trying to attach). 

Your clients are currently using SMTP to send their email via the ISPs SMTP service. Don't change this, and definitely don't turn off SMTP authorisation unless your client wants to help spammers. If your clients trust their staff not to send spam or viruses, then you could just configure their email clients to send directly via the ISP smtp address, rather than via the McAfee filter. Incoming mail sent to their server will still get filtered through McAfee, which is probably all the client is bothered about. Outgoing mail never goes to McAfee at all. If you stop thinking about email as a single service, and think in terms of a sending mail service and a receiving mail service (which is still a bit of an oversimplification), this makes more sense. They only need filtering for the mail they receive, but not what they send. 

We have large number of branch offices connected via VPN, but without any kind of server infrastructure. The client machines in each office get their network configuration from an ASA 5505, which is also used for the VPN connection. The Windows XP client machines are configured to use one of our corporate DNS servers as the primary, with the DNS server of the ISP as the secondary. The idea is that if the VPN connection fails for any reason, staff in the office will still be able to access the internet, and access our webmail and home access portal. In the majority of cases this works fine. However, for offices based in South America we are seeing DNS resolution on the client machines regularly being done against the ISP DNS server - this results in our corporate resources being effectively unavailable to staff in the offices. The client machines are able to ping the corporate DNS server ok. When doing an nslookup of a corporate hostname, I get a reply. I'm thinking one of the following (or a combination) is happening: 

We use Microsoft Forefront IAG to provide access to our Sharepoint Intranet from home users, and managing AV (and detection of it) on non corporate machines is not fun. That is why I am currently considering installing AV on Sharepoint. 

You could use a single robots.txt file stored somewhere on your web server, and redirect all requests to any site hosted on your IIS server for robots.txt to that file. That would be a change per site in IIS, but you may be able to do it programmatically with PowerShell. 

I am trying to run Active Directory Admin Center (dsac.exe) on Windows 7 as another user by means of creating a shortcut, rather than having to Shift+Right click and specify the user. On Windows XP I could create a runas shortcut like this (forget for a moment that dsac.exe does not exist in Windows XP): 

VMware tools might do this for you, but Gentoo is not in the guest compatibility list so it may not work, or may take a lot of effort to get working. You could use ntp to keep the clock up to date, or schedule ntpdate to run. I am not sure if these are better methods than hwclock -s. One thing you may want to avoid is a method that simply changes the clock time - that will result in cron jobs being skipped. ntp speeds up the clock to get to the correct time. ntpdate changes the clock time. 

Cisco discuss some cases where you might want to manually configure port speed and duplex rather than using autonegotiate, when using PIX/ASA security devices: $URL$ 

Best practice would be to continue only allowing key based logins, and just put up with being locked out when you are without your key. I am sure there is some way of reconfiguring your sshd config to allow password logins, but how are you going to secure that? Your security is only as good as its weakest link. There isn't really a "best practice" option between allowing password logins and private key authentication. You have to choose whichever one is most acceptable for you, and just take the problems that come with either on the chin... 

It depends on the configuration of the firewall, and how the apps running on the local machine talk to each other. I think it would be possible (but highly unlikely unless you did it deliberately) to block localhost traffic. More likely what you need to consider is the firewall blocking outbound traffic from your applications, preventing them from accessing services on other servers. That is quite commonly configured, and some firewalls will have very secure default policies that close off most outgoing traffic. 

The feature list on the Suhosin site gives specific answers to the question. You should note that Suhosin is not so much about patching security holes in PHP itself - rather it is about hardening PHP, which is a broader issue. As Caleb points out, you may find that some third party PHP code doesn't work under Suhosin. If you have something specific in mind, you could ask specific question about Suhosin for that particular code in the appropriate forum, or just try it and see. 

The tools you need are mturoute on windows or tracepath on *nix. Either tool enables you to find the Path MTU between two hosts, and see where the bottleneck is. However, if the problem is that a given hop has ICMP blocked, breaking Path MTU Discovery you'll need to dive a bit deeper to find out where the problem is. Then of course you have to convince the responsible party to fix their network equipment config. 

There may be other ways of achieving the same thing. ASAs are not analagous products to Microsoft ISA. ISA runs on a server, which allows it to be more flexible. Depending on what you want your proxy to do an ASA may be able to do some of it, but you'd have to give more detail in your question. 

All your data will be stored in a database, so you could do this simply by moving the data to a physical database server with more hard disk space. You could then keep your Web Front End(s) as virtual, or set up new Web Front Ends on physical hardware. Some of this will depend on your licensing. The procedure for moving your data is detailed by Microsoft at $URL$ for Sharepoint 2007. I imagine they have a similar document for Sharepoint 2010, or the procedure is the same. 

A variety of network inventory tools will help you with this - Spiceworks is available free (although might have a client count limit on the free version). There are others, and you might already have something, especially if you have a deployment tool for setting up those workstations. Many deployment tools include inventory functions. 

Are you trying to include your methods and classes for use by PHP? If so, you most likely want to use include() or require() functions within your PHP code rather than doing it through Apache. I can't really tell from your question exactly what you are trying to achieve. If you really need to use Apache for your includes, please expand your question to give more details. 

I see a lot of buzzwords on there, but no clear explanation of what it does or how. If the quality of their marketing is a reflection of their documentation, then I'd steer clear. There are a ton of monitoring systems out there though. You are a small shop at the moment, so go for one that doesn't require a whole bunch of additional infrastructure to run, and doesn't require you to fully understand the system before you can start using it. If there is only one person doing the monitoring from a single computer, and you don't require 24/7 alerting, you might get away with something like Quest's pt360, which will install on a Windows desktop or server. 

I think you'll need some kind of master server that is issuing the shutdown command to the servers - I don't think you'll find this functionality on the UPS itself. What package to install to do this will depend on what environment you have. PowerChute Network Shutdown looks like a likely candidate, but if you have some kind of network management system in place (e.g. Nagios based) you might be able to use that to issue shutdown when it detects that the UPS has kicked in. 

I am trying to understand ACLs and am unsure of where they are applied. Here's my example. I am trying to prevent communication between two VLAN interfaces. My source clients are on VLAN 1, my destination servers are on VLAN 2. I want to prevent the clients from communicating with the servers. I am only able to apply inbound ACLs. Do I apply the ACL on the VLAN 1 interface or the VLAN 2 interface? 

What I want to do seems incredibly simple, but I am getting nowhere quickly searching and reading about this. I need to list some policy documents on a Sharepoint page on our corporate intranet. This is in web application $URL$ The documents are stored in a folder in a document library in our HR Team Site - that's in $URL$ There seem to be a variety of methods for displaying the content of the folder on pages within the same site collection or site (e.g. Content Query Web Part, List View Web Part, Data View Web Part), but automatically displaying this in a different site collection seems very difficult, without spending a lot of money on a third party web app, or spending many hours writing one myself. Am I missing something here? I thought Sharepoint was about leveraging your content and data across the enterprise.