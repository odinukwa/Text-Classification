Let $$\gamma(N,\alpha):=\max_{n< N} \max_{a<n-n^{1/\alpha}}\sigma_{0,a}(n,\alpha)$$ as in the question. Let also $\sigma_0(n)$ denote the number of all divisors of $n$ and $$\gamma(N):=\max_{n< N} \sigma(n).$$ We have that $\gamma(N) = N^{\Theta(1/\log\log N)}$ by the divisor bound (Wigert). This growth is essentially achieved by numbers of the form $n_T=\prod_{p<T} p$, because $n_t = e^{\Theta(T)}$ and $\sigma_0(n_T)= 2^{\Theta(T/\log T)}$ by the prime number theorem. (Recall the Big Theta notation: $f(n) = \Theta(g(n))$ if asymptotically $f$ is bounded above and below by $g$ up to constants.) So $\gamma(N) = O(N^\epsilon)$, and since the linear measure of an interval $[a,a+N^{1/\alpha}]$ is only $N^{-\frac{\alpha-1}{\alpha}}$ of the full $[1,N]$, one might naively expect a much better bound on $\gamma(N,\alpha)$. However the divisors of a number spread better on a \emph{logarithmic scale}, so some such intervals do not even get ``infinitesimally smaller" in comparison to $[1,N]$. For these matters and much more see the very good [1]. Answer: in fact, we have, for fixed $\alpha\geq 2$ and for $N\to\infty$: $$ \gamma(N,\alpha) = N^{\Theta(1/\log\log N)}. $$ Proof. The upper bound is $$\gamma(N,\alpha)\leq\gamma(N)= N^{\Theta(1/\log\log N)}.$$ For the lower bound, consider, say, numbers of the form $N=n_Tm$ with $m\sim n_T^{\alpha-1}$. So $$\gamma(N,\alpha) \gtrsim \sigma_0(n_T) = n_T^{\Theta(1/\log\log n_T)} = N^{\Theta(1/\log\log N)}.$$ [1]: Hall, R. R., & Tenenbaum, G. (1988). Divisors. Cambridge University Press 

I do not yet know if what follows is the optimal value, but at least it is an upper bound that improves significantly on $|P|-p$. I hope this helps. Proposition. For every odd prime $p$ there is a set $P\subseteq \F_p^2$, with cardinality $|P|=2p$ that determines exactly $(p+3)/2$ rich directions, and which is contained in 3 lines but not in 2 lines. Proof. Let $P'=\{(k,k^{\frac{p+1}2}): k\in\F_p\}$, which is a set contained in the two lines $y=\pm x$ with cardinality $|P'|=p$. It is shown in [1] that $P'$ attains the equality in the theorem of Rédei. In other words, $P'$ determines exactly $(|P'|+3)/2=(p+3)/2$ directions. Now let $P''=\{(k,k-2): k\in\F_p\}$, i.e the line parallel to $y=x$ passing through $(1,-1)$. We observe that $P'\cap P''=\emptyset$ and that the direction of $P''$ is one of the directions determined by $P'$. Finally we let $P=P'\cup P''$ and we observe immediately that the rich directions of $P$ are exactly the directions determined by $P'$. [1] Lovász, L., and A. Schrijver. "Remarks on a theorem of Rédei." Studia Scient. Math. Hungar 16.449-454 (1981): 15-32. 

Therefore $C$ and $D$ are naturally relevant to the situation, because we can think $C\cong R/(N+K)$ and $D\cong N\cap K$. Now I answer your question. Let $\psi: Hom(C,D)\to End(R)$ be given by $h\mapsto \phi=d\circ h\circ c + id_R$, where $c: R\to L\to C$ and $d: D\to N\to R$. I claim that $\psi$ provides the bijection between $Hom(C,D)$ and $Stab$. In other words, $\phi=id+h$, all language abuses being made. What follows is tedious verification Let $h\in Hom(C,D)$, $\phi=\psi(h)$ and $r\in R$. 

For the first proposition substitute $A=6x\pm 1$ and $B=6(x+y)\mp 1$, so that $A$ is an arbitrary positive integer coprime with $6$ and $B$ is any integer $\geq A$ with opposite sign modulo 6. For the second proposition do the same with $B=6(x+y)\pm 1$. You are asking: is it true that $N$ coprime with 6 is composite if and only if it can be written as $N=AB$ with $A\leq B$? Yes, it's obvious. 

First, I make a remark on why should $Coker (b'\circ a)$ and $Ker(b'\circ a)$ enter the picture. Let $C=Coker (b'\circ a)$ and $D=Ker(b'\circ a)$. Let also slightly abuse notation to identify $N$ with $a(N)$ and $K$ with $a'(K)$. Let $Stab$ denote the set of all $\phi\in Aut(R)$ that stabilize both sequences. Notice that $\phi\in Stab\ $ if and only if 

Strictly speaking, no. Because the implication "there are at least $C$ colors" => "there is a complete subgraph in $C+1$ vertices that has at least $C$ colors" is true only for $C<4$. In fact, for $C<4$ is even true that "there are at least $C$ colors" => "there is a connected subgraph with $C$ edges all of different color". Instead, for $C\geq 4$ we can have examples as the following: a complete graph with vertices $\{1,2,3,4,5,6\}$ and all edges red, except for $(1,2):=blue$, $(3,4):=green$, $(5,6):=yellow$. Of course this doesn't exclude that some clever and relatively simple observation may solve the general induction step, but at least this shows why the steps $r=1,2,3$ are so easy in comparison. 

Let $N=\frac {9-D}{4}$ and let $\bar\omega$ be the complex conjugate of $\omega$. In particular $\omega+\bar\omega = -3$ and $\omega\bar\omega=N$. For every $A=\bigl(\begin{smallmatrix}a & b\\c&d\end{smallmatrix}\bigr)\in\Gamma$ we have that $ad=bc+1$, so $$A\omega = \frac{(a\omega +b)(c\bar\omega+d)}{(c\omega+d)(c\bar\omega+d)}=\frac{ac(\omega\bar\omega) +\omega + bc(\omega+\bar\omega)+bd}{c^2(\omega\bar\omega) +cd(\omega+\bar\omega)+d^2}=M\omega$$ with $M=\bigl(\begin{smallmatrix}r & s\\0&t\end{smallmatrix}\bigr)$ and $$\begin{aligned}r&=1 ,\\s&=bd-3bc+Nac , \\ t&=d^2-3cd+Nc^2.\end{aligned}$$ Of course we have $r>0$, $gcd(r,s,t)=1$ and $n=t$. We now show how to choose appropriate $a,b,c,d$ to fulfil all the other requirements. We will choose $a,b,c,d> 0$ to be positive integers. Since the discriminant $\Delta=(-3)^2 - 4 N$ is negative, we have that $t>0$. Since $s=\frac b d t + \frac c d N$, we also have $s>0$. If $N\equiv 1\pmod 3$ we choose $a\equiv -d\not\equiv 0\pmod 3$ and $b\equiv c\not\equiv 0\pmod 3$. If $N\equiv -1\pmod 3$, we choose $a\equiv -d\equiv 0\pmod 3$ and $b\equiv c\not\equiv 0\pmod 3$. In this way, $n=t\equiv -1\pmod 3$, $s\equiv 0\pmod 3$ and $ab-ac+cd+a^2cd\equiv 0\pmod 3$. Finally, the requirement $s=\frac b d t +\frac c d N< 3t$ is satisfied whenever $d$ is chosen sufficiently large, compared to $b,c,N$, subject to $ad=bc+1$ and all the conditions above. Here is a choice of parameters that works, because $N$ is an integer and $N\geq 2$: 

$\phi(r)=r$ if $r\in K$. Indeed $R\to L$ is the kernel of $K\to R$, so $c(r)=0$; $\phi(r)=r$ if $r\in N$. Indeed $L\to C$ is the kernel of $N\to L$, so $c(r)=0$; $\phi(r)-r\in N\cap K$. Indeed $\phi(r)-r$ is in the range of $d$; $\phi:R\to R$ is invertible because $\phi-id_R$ is nilpotent of order two (so the inverse of $\psi(h)$ is $\psi(-h)$). 

**Edit 1.a:**This construction tried to provide a counterexample, but is wrong. I give more details below. Glue two solenoids as follows. Let $K$ be a Cantor set (e.g. iterate $[0,1]\to [0,\frac 1 3] \cup [\frac 2 3,1]$). Let $D\subset K$ be a closed nowhere dense Cantor subset (e.g. iterate $[0,1]\to [0,\frac 1 9] \cup [\frac 8 9, 1]$). Let $S_1,S_2$ be two solenoids over circles $C_1,C_2$ respectively. Essentially, a solenoid is a space $S$ that fibres over a circle $S\to C$, with all the fibres homeomorphic to Cantor sets, and with a certain nontrivial twist. A solenoid is an indecomposable continuum, is homogeneous, and the only proper subcontinua are arcs. On each circle $C_i$ consider two points $P_i^0, P_i^\pi$, and let $F_i^\alpha$ be the corresponding fibers on $S_i$, for $i=1,2$ and $\alpha=0,\pi$. Let homeomorphisms $a: F_1^0\to D$, $b:K\to F_2^0$, $c: F_2^\pi\to D$, $d:K\to F_1^\pi$ be given. Glue $F_1^0\cup (d\circ c)(F_2^\pi)\subset S_1$ to $(b\circ a)(F_1^0)\cup F_2^\pi\subset S_2$ via the above identification, to obtain the required space $X$. $X$ is clearly a continuum, and is decomposable, because is the union of two proper subcontinua (copies of $S_1,S_2$). Edit 1.b: The observation motivating the example was that $S_1$ and $S_2$ are separately indecomposable, and an open set $U$ meeting $S_1$ necessarily meets the fiber $F_1^0$ and since $F_1^0$ is nowhere dense in $F_2^0$ it follows that $U$ meets $F_2^\pi$ as well. This property is achieved in a less trivial way than just identifying (an open subset of) a fiber of $S_1$ with a similar subset of $S_2$. Indeed there is no samll neighborhood of $F_2^0$ retracting on it. However this does not really help in solving the question. 

$h$ is well-defined. Indeed if $s=c(r')$ then $r'=r+k+n$ for some $k\in a'(K)$ and $n\in a(N)$. But then $\phi(k)=k$ and $\phi(n)=n$, so $\phi(r')-r'=\phi(r)-r$. $\psi(h)=\phi$. Indeed $d\circ h\circ c (r) = \phi(r)-r$ for all $r\in R$; If $\phi=\psi(k)$, then $h=k$. Indeed $c:R\to C$ is surjective and $h(c(r)) = d^{-1}\circ d\circ k\circ c(r)$ for all $r\in R$. 

No. We suppose it is defined for $2\times 2$ matrices and we get a contradiction. Unless you drop the requirement on $\operatorname{rank} A^\star$ in which case $A^\star=0$ trivially works. Let $A=\begin{pmatrix} 1 & 0 \\ 0 & 0\end{pmatrix}$ and let $B=\begin{pmatrix} a & b\\ c & d\end{pmatrix}$ with arbitrary $a,b,c,d\in\mathbb R$ satisfying $ad-bc\neq 0$. The key observation is that $B^T A B = \begin{pmatrix} a^2 & ab \\ ab & b^2\end{pmatrix}$ does not depend on $c,d$. Therefore $(B^T A B)^\star=B^{-1}A^\star (B^T)^{-1}$ should be independent of $c,d$ as well. Let $A^\star =\begin{pmatrix} x & y\\ z & w\end{pmatrix}$ for some $x,y,z,w\in\mathbb R$. Then we compute $$B^{-1}A^\star (B^T)^{-1}=\frac 1 {(\operatorname{det} B)^2}\begin{pmatrix} x d^2 - (y+z) cd + w c^2 & -x bd +(yad + zbc) -wac\\ -x bd +(ybc + zad) -wac & x b^2 - (y+z) ab + w a^2 \end{pmatrix}$$. In case $B=\begin{pmatrix} 1 & 0\\ t & 1\end{pmatrix}$ we get that $B^{-1}A^\star (B^T)^{-1}=\begin{pmatrix} x - (y+z)t + w t^2& \dots\\ \dots & \dots\end{pmatrix}$ is independent of $t$. So $y+z=0$ and $w=0$. Now, in case $B=\begin{pmatrix} 0 & -1\\ 1 & t\end{pmatrix}$ we get $B^{-1}A^\star (B^T)^{-1}=\begin{pmatrix} x t^2 + 0 & \dots\\ \dots & \dots\end{pmatrix}$ from which $x=0$. This is already a contradiction, because $A^\star=\begin{pmatrix} 0 & y \\ -y & 0\end{pmatrix}$ has either rank 0 or 2. But in case $B=\begin{pmatrix} 1 & 0\\ 0 & t\end{pmatrix}$ we get that $B^{-1}A^\star (B^T)^{-1}=\frac 1 {t^2}\begin{pmatrix} 0 & yt \\ -yt & 0\end{pmatrix}$ is independent of $t$, so $y=0$. 

Notation. Let $n$ be a positive integer, let $\mu_n\subseteq \mathbb C$ be the set of $N$-th roots of unity, let $K$ be a number field containing $\mu_n$, let $R$ be the ring of integers of $K$, let $a\in R\setminus\{0\}$, let $\mathfrak m\subset R$ be the ideal generated by $a$ and $n$, let $\mathcal I_\mathfrak m$ be the set of fractional ideal of $K$ coprime with $\mathfrak m$. The Power Residue Symbol is the multiplicative character $\bigl(\frac a \cdot\bigr): \mathcal I_\mathfrak m\to \mu_n$ that satistfies $\bigl(\frac a {\mathfrak p}\bigr)\equiv a^{\frac{N\mathfrak p-1}{n}} \mod {\mathfrak p}$ for every prime ideal $\mathfrak p\in\mathcal I_\mathcal m$, where $N\mathfrak p\in\mathbb N$ is the norm of $\mathfrak p$. Fact. If I am not mistaken, the power residue symbol is a unitary Hecke character (aka Grossencharakter) of $K$, with trivial infinity type, with finite order, and with conductor dividing a power of $\mathfrak m$. This fact follows from class field theory, from example, from [1, VIII.5.5, page 241]. Question. Is there a citable reference in which this fact is stated more explicitly? I looked also in [2] and in a plethora of other places, but I was not successful. [1]: J. Milne. Class field theory (v4.02), 2013. Available at www.jmilne.org/math/ [2]: Neukirch, Jürgen. Class field theory. Vol. 280. Berlin: Springer, 1986.