I have some affine varieties whose cohomology (topological, with $\mathbb{C}$ coefficients) I would like to know. They are very nice, they are all of the form $\mathbb{A}^n \setminus \{ f=0 \}$ for some hypersurface $f$. (In particular, they are smooth.) If I needed to write them as closed subvarieties, I could just write $y f(x_1, \ldots, x_n)=1$. I want software where I type in $f$ and get back the betti numbers. Or at least directions for how to reasonably hack existing software into doing this. Thanks! 

The example of three linear equations in two variables is typical. The equations $ax+by+c=0$, $dx+ey+f=0$ and $gx+hy+i=0$ have a common root if 

No. Any set of equations can be turned into a set of special equations. For example, if you have the equation $x^3 y^2 z + x^2 = 7$, just introduce new variables $x_1$, $x_2$, $x_3$, $y_1$, $y_2$ and $z_1$, and write down the special equations $x_1=x_2$, $x_2=x_3$, $y_1=y_2$ and $x_1 x_2 x_3 y_1 y_2 z + x_1 x_2 =7$. This is often called the polarization trick. So special equations are no simpler than ordinary equations and, as I imagine you know, there is no algorithm to solve Diophantine equations. I just noticed that you said "inequalities" not equalities. But any Diophantine equation can be rewritten as an inequality: $f(x,y,z)=0$ is the same as $-1 < f(x,y,z) < 1$, and any inequality as an equality: $z \geq 0$ is equivalent to $\exists (p,q,r,s) : z=p^2+q^2+r^2+s^2$. So this doesn't gain or lose you any generality. 

Now, to answer your question. Let $A$ be a fixed finite abelian $p$-group. Let $e_N(A)$ be the expected number of surjections from an abelian $p$-group $G$, picked according to measure $\mu_N$, to $A$. Ignoring issues about interchanging limits, we want to show that $\lim_{N \to \infty} e_N(A)=1$. Lets start by considering $H_N(A) := \mathrm{Hom}(V^N, A)$. The set $H_N(A)$ has cardinality $|A|^N$, as any map is specified by giving the image of a basis for $V^N$. Inside this set, let $S_N(A)$ be the surjective maps and $C_N(A)$ the nonsurjective maps. For any map $f \in S_N(A)$, let's consider the possibility that it extends to the cokernel of a random map $U^N \to V^N$. This will occur if and only if the $N$ generators of $U^N$ land in the kernel of $f$. Since $f$ is in $S_N(A)$, its kernel has index $|A|$. So the probability that $U^N$ is mapped into the kernel of $f$ is $1/|A|^N$. We want to compute $$e_N(A) = |S_N(A)| \cdot (1/|A|^N) = 1 - |C_N(A)|/A^N.$$ If $A$ can be generated by $r$ elements, then $|C_N(A)|/A^N \leq (1-1/|A|^r)^{\lfloor N/r \rfloor}$, so the second term drops out as $N \to \infty$. (To see this bound, group the basis elements of $V^N$ into $N/r$ groups of size $r$; the probability that these $r$ basis elements are not sent to the $r$ generators of $A$ is $(1-1/|A|^r)$. This bound is probably much weaker than the true rate of convergence.) 

$\def\CC{\mathbb{C}}\def\cO{\mathcal{O}}$Here is a computation of the Dobault cohomology of $X:=B(\infty) \setminus B(0) = \CC^2 \setminus \{ (0,0) \}$. I think that balls of finite radius should be behave basically the same way, but the details will be messier and it sounds like you just want to see an example. Set $$U_1 = (\CC \setminus \{ 0 \}) \times \CC,\ U_2 = \CC \times (\CC \setminus \{ 0 \}),\ U_{12} = (\CC \setminus \{ 0 \})^2.$$ So $\CC^2 \setminus \{ (0,0) \} = U_1 \cup U_2$ and $U_{12} = U_1 \cap U_2$. Each of $U_1$, $U_2$ and $U_{12}$ is a product of open sets in $\CC$, so they are Stein and thus any coherent sheaf on them has vanishing cohomology. We deduce by Leray's theorem that the Cech complex on $U_1$, $U_2$ computes Dolbeault cohomology of $\CC^2 \setminus \{ (0,0) \}$. Let $\cO$ be the sheaf of holomorphic functions. So $$\cO(U_1) = \left\{ \sum\nolimits_{j \geq 0} a_{ij} z_1^i z_2^j : \ \mbox{the sum is convergent} \right\}$$ $$\cO(U_2) = \left\{ \sum\nolimits_{i \geq 0} a_{ij} z_1^i z_2^j : \ \mbox{the sum is convergent} \right\}$$ $$\cO(U_{12}) = \left\{ \sum a_{ij} z_1^i z_2^j : \ \mbox{the sum is convergent} \right\}.$$ We deduce that $$H^0(X, \cO) = \left\{ \sum\nolimits_{i,j \geq 0} a_{ij} z_1^i z_2^j : \ \mbox{the sum is convergent} \right\}$$ $$H^1(X, \cO) = \left\{ \sum\nolimits_{i,j < 0} a_{ij} z_1^i z_2^j : \ \mbox{the sum is convergent} \right\}.$$ The sheaf $\Omega^1$ is a free $\cO$-module of rank two with basis $d z_1$, $d z_2$; the sheaf $\Omega^2$ is free of rank one with basis $d z_1 \wedge d z_2$. Thus, $$H^0(X, \Omega^1) = \left\{ \sum\nolimits_{i,j \geq 0} a_{ij} z_1^i z_2^j d z_1 + \sum\nolimits_{i,j \geq 0} b_{ij} z_1^i z_2^j d z_2 \right\}$$ $$H^0(X, \Omega^2) = \left\{ \sum\nolimits_{i,j \geq 0} c_{ij} z_1^i z_2^j d z_1 \wedge d z_2 \right\}$$ $$H^1(X, \Omega^1) = \left\{ \sum\nolimits_{i,j < 0} a_{ij} z_1^i z_2^j d z_1 + \sum\nolimits_{i,j < 0} b_{ij} z_1^i z_2^j d z_2 \right\}$$ $$H^1(X, \Omega^2) = \left\{ \sum\nolimits_{i,j < 0} c_{ij} z_1^i z_2^j d z_1 \wedge d z_2 \right\}$$ where I have stopped writing down that the sums have to converge. Let's see how this works with the Dolbeault-deRham spectral sequence. The $(p,q)$ term is $H^q(\Omega^p)$. The maps on the first page go $(p,q) \to (p+1,q)$ and are induced by $d$. So we need to compute the cohomology of $$H^0(X, \cO) \to H^0(X, \Omega^1) \to H^0(X, \Omega^2)$$ $$H^1(X, \cO) \to H^1(X, \Omega^1) \to H^1(X, \Omega^2).$$ Put a $\mathbb{Z}^2$-grading on these vector space where $z_1$ and $dz_1$ are in degree $(1,0)$ and $z_2$ and $dz_2$ are in degree $(0,1)$. Ignoring the convergence conditions for a moment, these complexes are direct sums of finite dimensional complexes in each degree $(i,j)$, and we compute that they are exact except when $(i,j) = (0,0)$. The complexes in degree $(0,0)$ is $\CC (1) \to 0 \to 0$ and $0 \to 0 \to \CC (z_1^{-1} z_2^{-1} dz_1 \wedge dz_2)$. I am going to omit the argument for length, but the convergence conditions don't change anything: The next page of the spectral sequence is $\CC(1)$ in position $(0,0)$ and $\CC (z_1^{-1} z_2^{-1} d z_1 \wedge d z_2)$ in $(2,1)$. There can be no arrows from $(0,0)$ to $(2,1)$ on future pages, so the complex collapses, and we compute that $H^0(X) \cong \CC$ and $H^3(X) \cong \CC$. This is of course correct, since $X$ retracts onto the $3$-sphere of radius $1$. 

Another family of answers which I don't think is of the other forms: For $k=3$, consider $x=t^2$, $y=1-t^3$. More generally, if $(t^j)^k-1$ has a factor of the form $\phi(t) = 1 + \sum_{m \geq j} c_m t^m$, even if $\phi(t)$ is not of the form $f(t^j)$, then $(t^j, \phi(t))$ works. 

The point of this answer is to point out that Kevin Costello's heuristic can be made rigorous. For any positive $\epsilon$, if $y=O(n^{1/2-\epsilon})$ then such a polynomial exists for large $n$. Lemma: Let $G$ be a finite abelian group and let $g_1$, $g_2$, ..., $g_n$ be elements of $G$. If $2^n > |G|$ then there are integers $\epsilon_i \in \{ -1, 0, 1 \}$, not all zero, such that $\sum \epsilon_i g_i =0$. Proof: Consider the $2^n$ sums $\sum a_i g_i$ with $a_i \in \{ 0, 1 \}$. By the pigeonhole principle, two of these are equal. Subtracting them, we get the claimed relation. QED Now, consider the abelian group $$G:=\bigoplus_{k=1}^y (\mathbb{Z}/k)^{\oplus k}.$$ Let $g_i$ be the element of $G$ whose $k$-th component is $(0^i, 1^i, 2^i, 3^i, \ldots, (k-1)^i)$, for $i=0$, $1$, ..., $n$. The order of $G$ is $\exp( \sum k \log k) = \exp( O(y^2 \log y))$. So, if $y=O(n^{1/2-\epsilon})$, then $2^{n+1} > |G|$ and the lemma tells us that there are $\epsilon_i$ such that $\sum \epsilon_i g_i=0$. Then $\sum \epsilon_i x^i$ is the required polynomial. There is a lot of slack in this argument, but Bjorn's argument shows that we can't improve the exponent of $n$ by tightening it. 

Let $U \cong \mathbb{A}^n$ be the image of $j$ and let $\Delta = \mathbb{A}^n \setminus U$. Since $U$ is affine, $\Delta$ is purely codimension $1$, so $\Delta$ is the zero locus of some $f \in k[x_1, \ldots, x_n]$. But then $f$ is a unit on $U$, contradicting that $U \cong \mathbb{A}^n$. 

This is A168049 or, with slightly different indexing, the Motzkin numbers. The general question of counting nondecreasing sequences which stay below the diagonal is very common in combinatorics and goes by the name Lukasiewicz words. Stanley has a good discussion Enumerative Combinatorics II, Sections 5.3 and 5.4 and I wrote up some notes when I taught this material last Fall. In general, to count Lukaswiecz sequences from $(0,0)$ to $(n,n)$, one uses the generating function relation $$P = x W(P(x))$$ where $W = \sum w_k x^k$ and sequences are counted with weight $w_0^{a_0} \cdots w_i^{a_i}$, where $a_i$ is the number of times you increase by $i$. In your case, you want to permit increases by $(0,1,2)$, and not keep track of how many of each you are using, so you want to look at $$P = x(1+P+P^2)$$ which has the solution $P(x) = (-1 + x + \sqrt{1 - 2 x - 3 x^2})/(2 x)$. Unlike the Catalan case, I don't think you can get any simpler than this. To make my notes match up with your indexing, discard the final $2$ from your sequence, and take your $n_i$ to be my $d_i$, if I am not mistaken. To add a bit of self promotion, call your sequence $a(n)$. It starts out $1$, $1$, $2$, $4$, $9$, $21$, $51$ ... Define $b(n)$ so that $a(n) = b(n) + b(n+1)$. So the $b$'s start out $1$, $0$, $1$, $1$, $3$, $6$, $15$, $36$ ... That sequence is A005043 and I blogged about it. 

First of all, $\mathrm{Trop}(X)$ is a set which can be equipped with the structure of a polyhedral complex; there is not a canonical way to do it. However, there are better and worse choices. In particular, one can choose the polyhedral structure so that, if $w$ and $w'$ are in the relative interiors of the same face, then the initial ideals $\mathrm{In}_w(X)$ and $\mathrm{In}_{w'}(X)$ are equal. Let $X$ be pure of dimension $d$ and choose such a polyhedral structure. For such a choice, if $w$ is in the relative interior of a face then the automorphisms of $\mathrm{In}_w(X)$ contain a $d$-dimensional torus. I wrote this up in Section 2.2 of my thesis (apologies for the horrible writing). You can also extract this from the discussion in Section 9.2 of Sturmfels Solving Systems of Polynomial Equations. Remark 3.4.4 in Sturmfels and Maclagan's textbook-in-progress states this result as well, and the surrounding discussion is probably the clearest of any of these sources. 

This is an expository note filling in the background between Steven Sam's comment and Felipe Voloch's answer. If $X$ is a smooth projective variety, then the Weil conjectures (now theorems) describe the zeroes and poles of the zeta function in terms of the cohomology of $X$, and the action of Frobenius on it. In particular, the poles on the circle $|u|=1/q$ are the reciprocals of the eigenvalues of Frobenius acting on $H^2(X, \mathbb{Q}_{\ell})$. In your example, $H^2$ is two dimensional. Over the algebraic closure $\overline{F_q}$, your variety is isomorphic to $\mathbb{P}^1 \times \mathbb{P}^1$. $H^2$ is spanned by the two classes $\mathbb{P}^1 \times \{ \mbox{point} \}$ and $ \{ \mbox{point} \} \times \mathbb{P}^1$. If $-1$ is a square, Frobenius acts on this two dimensional vector space by multiplication by $q$, so you get a double pole at $1/q$. If $-1$ is not a square, then Frobenius multiplies by $q$ and switches the two generators. So the eigenvalues are $q$ and $-q$. 

No. Let A be k[[t]]. Let X be A^1 \setminus {-1,0,1} and Y be A^1 \setminus {1,t,-1}. In explicit equations, X = Spec k[[t]][x, y]/y(x-1)x(x+1)-1 and Y = Spec k[[t]][x, y]/y(x-1)(x-t)(x+1)-1. Over k[[t]]/t^{n+1}, the reductions of X and Y are isomorphic because all infinitesimal deformations of a smooth affine scheme are trivial. (See corollary 4.7 in Hartshorne's notes on deformation theory.) However, X and Y are not isomorphic because the two fibers over the general point are not: For any field K, if we have P_K^1 \setminus {a,b,c,d} for {a,b,c,d} \in P^1(K), then the cross ratio of a,b,c and d is a well defined element of K. In particular, this applies when K=k((t)). 

In summary, integration by parts, the Prime Number Theorem, and aggressive pruning of error terms. As I recall, the follow-up exercise in Mathematics of the Analysis of Algorithms is to obtain a formula of the form $$N \log 2 + c N/\log N + O(N/(\log N)^2).$$ That's a hard exercise! If you want to learn a lot about asymptotic technique, I recommend it. 

What remains is to show that $I(d, \delta, X)$ implies $I(x, \phi, \omega^X)$. You might enjoy doing this yourself more than reading my solution. If $\phi(x)$ is false for all $x$, then $I(x, \phi, \omega^X)$ is vacuously true. So we may assume that there is an $x$ obeying $\phi(x)$. Choose $d_1$ large enough that $x_e=0$ for all $e \geq d_1$. Then $\delta(d_1)$ is true because, for any $w \in \omega^X$, we either have $w \geq x$ or $ \forall_{e \geq d_1} : w_e=0$. So there is some $d$ which makes $\delta$ true. Let $d$ be the least element of $X$ which makes $\delta$ true. If $d=0$, we are done, since $\delta(0)$ is precisely $I(x,X, \phi)$. So assume for the sake of contradiction that $d>0$. Let $\bar{z} \in \omega^X$ be the element which is promised to exist according to $\delta(d)$. There are only finitely many $i$ for which $\bar{z}_i$ is nonzero. Let $c$ be the greatest such $i$ which is less than $d$. So $\bar{z}$ looks like $$(\ldots, 0,0,0,\bar{z}_c, 0,0, \ldots, 0,0, \ldots, 0,0, \bar{z}_d, 0, 0, \ldots).$$ If $\bar{z}_i$ is zero for all $i<d$, then take $c=0$. Our goal is to prove $\delta(c)$; this will contradict the minimality of $d$ and thus complete the proof. Let $\ell$ be the smallest element of $\omega$ such that there exists $y \in \omega^X$ with the following properties: $$\phi(y) \ \wedge \ y_c=\ell \ \wedge \ \forall_{e > c} : y_e = \bar{z}_e$$ There is at least one such $\ell$, since we can take $y=\bar{z}$ and $\ell = \bar{z}_c$, so there is a least such $\ell$ because $\omega$ is well ordered. Let $y$ be the element of $\omega^X$ as above. I claim that taking $y$ in place of $z$ makes $\delta(c)$ true. Let $w$ obey $\phi(w)$. So either $w \geq \bar{z}$ or $\forall_{e \geq d} w_e = \bar{z}_e$. We must show that either $w \geq y$ or $\forall_{e \geq c} w_e = y_e$. Case 1 There is some $e \geq d$ with $w_e \neq \bar{z}_e$. Then $w > \bar{z}$. Since $\forall_{f \geq d} : y_f=\bar{z}_f$, we also have $w > y$, as desired. Case 2 For all $e \geq d$ we have $w_e = \bar{z}_e$. However, there is an $e$ with $c < e < d$ and $w_e \neq \bar{z}_e$. For $e$ in this range, $\bar{z}_e = y_e = 0$. So $w > y$, as desired. Case 3: For all $e > c$, we have $w_e = \bar{z}_e$. However, $w_c \neq y_c$. By the construction of $y$, we have $w_c > y_c$ and thus $w>y$. Case 4: For all $e \geq c$, we have $w_e =y_e$. This is the other case in which $\delta(c)$ is true. We have now proved that $\delta(c)$ is true, contradicting that $d$ was minimal. So, instead, $d$ was $0$. As described above, this concludes the proof. $\square$. 

I modeled this proof on Zariski's proof of the Nullstellansatz; both arguments work by showing that fields don't want to be finitely generated modules over polynomial rings. 

The case of Grassmannians is going to be worse for three reasons. The two minor ones are that (1) we may honestly have to use the formula for the chern class of a tensor product. and (2) the polynomials in question will be multivariate polynomials. The big problem will be that $H^{\star}(G(k,n))$ has relations in degree lower than $\dim G(k,n)+1$, so we can't pull the trick of forgetting that $h^n=0$ and working with honest polynomials. I suspect that your question was more "give a nice description of the tangent bundle to the Grassmannian" than "can that tangent bundle be expressed as a direct sum of line bundles?". If you seriously care about the latter, I'll give it more thought. 1 Direct sum is the natural thing to ask for in the categories of smooth, or of topological, complex vector bundles. If you like the algebraic or holomorphic categories, as I do, it is more natural to ask for the weaker property that there is a filtration of the vector bundle, all of whose quotients are line bundles.