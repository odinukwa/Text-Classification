I can remember twice that I have been really stunned by an equivalence of categories. First, let R be a not necessarily commutative ring. The category of (left) R-modules is equivalent to the category of (left) modules over the ring of $n\times n$ matrices with entries in R. (This is the simplest example of a Morita equivalence.) I mean, the rings themselves look very different from each other. The second is that the homotopy category of simplicial sets is equivalent to the homotopy category of CW-complexes. The former is defined purely combinatorially, and the latter is defined topologically: a CW complex is after all defined by gluing together open balls in $\mathbf R^n$ (albeit in a complicated way) and the equivalence relation on arrows given by homotopy is defined by taking products with the open interval [0,1]. It really is remarkable how the process of passing to homotopy can strip away all this topological structure. 

This follows from the Weil conjectures. Namely, for an arbitrary algebraic variety $Y$ one has $$ \# Y(\mathbf F_q) =\sum_i (-1)^i \mathrm{tr}\left(\mathrm{Frob}_q \mid H^i_c(\overline Y, \mathbf Q_\ell) \right). $$ If $Y$ is $d$-dimensional and geometrically irreducible, then $H^{2d}_c(\overline Y,\mathbf Q_\ell)$ is $1$-dimensional and of Tate type (it's spanned by the fundamental class) of weight $2d$. Since all $H^i_c$ have weight $\leq i$, this term dominates for $q$ large enough. 

An important example is the notion of a Gerstenhaber algebra. It is simultaneously a commutative ring and a Lie algebra, such that the product and bracket satisfy the Poisson identity, except all these things need to be understood in a differential graded sense. 

Addendum. Here's my proof, it's very similar to the one linked to by novice. However, the proof in Lewis's book doesn't need generic smoothness; it uses instead the existence of a subvariety mapping generically finitely onto $Y$, as in the suggestion of ACL below. Note first that the if $f$ is in addition smooth, then $H_k(X) \to H_k(Y)$ is onto and there's not much to it. For the general case take $U \subset X$ where $f$ is smooth, and let $Z = X \setminus U$. Then there is a map between the long exact sequences $$ \cdots \to H_k(Z) \to H_k(X) \to H_k(U) \to H_{k-1}(Z) \to \cdots $$ and $$ \cdots \to H_k(f(Z)) \to H_k(Y) \to H_k(Y \setminus f(Z)) \to H_{k-1}(f(Z)) \to \cdots $$ as follows. The maps $H_\bullet(X) \to H_\bullet(Y)$ and $H_\bullet(Z) \to H_\bullet(f(Z))$ are the obvious ones. The map $H_\bullet(U) \to H_\bullet(Y \setminus f(Z))$ is the composite $$ H_\bullet(U) \to H_\bullet(X \setminus f^{-1}(f(Z))) \to H_\bullet(Y \setminus f(Z)). $$ Now apply $W_{-k}$ to the long exact sequences. The two maps $H_k(Z) \to H_k(f(Z))$ and $H_k(U) \to H_k(Y \setminus f(Z))$ are surjective on lowest weights: the former by noetherian induction and the latter because it's the composition of pullback for an open immersion and a pushforward for a smooth proper morphism. Since in addition $W_{-k}H_{k-1}(Z) = W_{-k}H_{k-1}(f(Z)) = 0$ the result follows by the four lemma. 

According to Dimca's "Sheaves in topology" Proposition 4.2.10, the (perverse) nearby and vanishing cycle functors commute non-canonically with the Verdier duality functor if you have field coefficients. For a proof he refers to Brylinski's "Transformations canoniques, dualité projective, théorie de Lefschetz, transformations de Fourier et sommes trigonométriques" which I don't have available. 

Kiran Kedlaya maintains a list of upcoming conferences in arithmetic geometry: $URL$ Ravi Vakil has a list of upcoming conferences in algebraic geometry: $URL$ 

Let $\mathscr{X}$ be a smooth DM-stack with projective coarse moduli space. I am interested in the orbifold cohomology ring $H^\mathrm{orb}(\mathscr{X})$, as defined by Chen-Ruan (for orbifolds) and Abramovich-Vistoli (algebraically). Additively, this is nothing but the ordinary cohomology of the inertia stack, but it has a funny multiplication and a funny grading. The multiplication I think I can motivate from the point of view of GW theory: if you think (somewhat perversely) of the ordinary multiplication in the cohomology ring of a variety $X$ as arising from 3-pointed genus zero stable maps into $X$, then the multiplication in $H^\mathrm{orb}(\mathscr{X})$ should come from 3-pointed stable orbicurve maps, which it does. The grading is the part that is a mystery to me. Or rather, I understand that it has the nice properties that the grading of the untwisted sector is the same as the usual one, and that the multiplication preserves the grading. But I have zero intuition for why the multiplication preserves the grading -- I can read through the proofs, but it looks like magic. Is there any a priori reason to think that this is the "right" grading? I am vaguely aware that physicists have been considering the age grading for some time now, and surely they must have had some reason for this. I also know that the age grading shows up in the Riemann-Roch formula on an orbicurve -- can the age grading and/or its compatibility with the quantum product be motivated from this fact? 

Since it was discussed in some now deleted comments, let me say a few words about the example $X = BG$. Then $X$ has a single point (point = $\mathbb C$-point), corresponding to the trivial torsor over a point. What are the automorphisms of the trivial torsor? For every $g \in G$ we have an automorphism given by the action of $G$. But these will not correspond to distinct points of the inertia stack $IX$ in general, because these automorphisms may be isomorphic. So we should figure out what is a morphism between automorphisms of the trivial torsor. By thinking a bit one sees that morphisms are given by conjugation in the group, i.e. a morphism between the automorphisms "acting by $g$" and "acting by $g'$" is an element $h$ such that $g = hg'h^{-1}$. In other words, $IX$ is given by the stack quotient $[G/G]$, where the first $G$ is the underlying set of $G$, and the group $G$ acts on itself by conjugation. Equivalently, $IX = \coprod_{[g]} BC_G(g)$ where the disjoint union is taken over conjugacy classes in $G$ and $C_G(g)$ is the centralizer of $g$. Using unnecessarily fancy words, $IX$ is the classifying stack of the "loop groupoid" of the finite group $G$. This illustrates the informal statement earlier, that the locus with automorphism group $G$ becomes "doubled" $|G|$ times: the stack $[G/G]$ is of course $|G|$ times larger than $[pt/G]$, in a natural sense. 

I don't know a reference but here is an argument. It suffices to consider the case when we glue two points only. Suppose that we are given a curve $C \to S$ (not necessarily connected) and two disjoint sections, $D$ is the result of gluing these together, and $\nu \colon C \to D$ the natural map. Then there is an exact sequence $$ 0 \to O_D \to \nu_\ast O_C \to O_S \to 0$$ of sheaves on $D$. Push forward along $p \colon D \to S$. If $C$ has two components and the sections are on distinct components, we see that the first row in the long exact sequence is exact and $R^1 p_\ast O_D \cong R^1 p_\ast O_C$. If $C$ is connected we instead get a short exact sequence $0 \to O_S \to R^1p_\ast O_D \to R^1p_\ast O_C \to 0$. Dualizing gives the result for the Hodge bundle. 

This question has been answered in the comments. The former is the fibered product and the latter is the Weil restriction. The former always exists, but the latter does not. I am reposting this as a CW answer; if it gets upvoted, this question will not reappear on the front page. 

Thinking in terms of stacks, the answer just jumps out at you. What you have is a map $X \to BG$ and a map $G \to GL_n$ and you want to cook up a map $X \to BGL_n$. And in general a map $G \to H$ induces a map $BG \to BH$ via the ''contracted product'' construction, mapping a $G$-bundle $P$ to $P \times^G H$. 

${}$Hi Chitro. The Poincaré duality pairing $H^k(X) \otimes H^{2n-k}_c(X) \to H^{2n}_c(X)$ is a morphism of mixed Hodge structures. So in your example, for instance, $H^{2n-k}_c(X)$ is pure of weight $2n-2k$. 

I know of two very general frameworks for describing generalizations of what a "cohomology theory" should be: Grothendieck's "six functors", and the theory of spectra. In the former, one assigns to every "space" $X$ a triangulated category $\newcommand{\D}{\mathsf D} \D (X)$, its derived category, and to each morphism $f \colon X \to Y$ derived pushforward/pullback maps $f_\ast, f_!, f^\ast, f^!$ between the derived categories (as well as $\mathcal Hom$ and $\otimes$), which are required to satisfy a list of formal properties: adjunctions, base change theorems, projection formula, etc. The usual cohomology of a space is given by the functor $(a_X)_\ast (a_X)^\ast$ applied to our choice of coefficients in $\D(\mathrm{pt})$, where $a_X$ is the map from $X$ to a point. But the formalism also incorporates sheaf cohomology, and allows us to talk in a uniform language also about other cohomology theories (like Borel-Moore, intersection homology) by other combinations of the six functors, or to work freely in a relative setting (e.g. there are relative versions of things like Künneth theorem) or to talk about enhanced versions of cohomology (like mixed Hodge theory) by an appropriate other choice of functor $\D(-)$. However my impression is that this approach is more popular among for instance algebraic geometers than honest topologists. Topologists who talk about generalized cohomology theories of course talk about K-theory, cobordism, elliptic cohomology... I understand much less of this. In any case, here a generalized cohomology theory is considered to be an object of the stable homotopy category $\mathrm{SH}$. I have been wondering for a while what (if anything) it means that there are these two seemingly orthogonal ways of thinking about what cohomology is, which seem to allow for generalizations in different directions. Is there any way to unify the two approaches? To ask a more precise question, is there a functor $\D$ which assigns to a nice enough space $X$ a triangulated category $\D(X)$, together with a "six functors" formalism satisfying the usual properties, such that $\D(\mathrm{pt}) \cong \mathrm{SH}$? Even better, can one in that case also find a subfunctor $\D' \subset \D$, stable under six functors, which assigns to a space $X$ the (for instance unbounded) derived category of abelian sheaves on $X$? Some more speculative comments: If $\D(\mathrm{pt}) \cong \mathrm{SH}$ then possibly $\D(X)$ should be the category of spectra parametrized by the base space $X$ (as in parametrized homotopy theory), but I'm very ignorant about such things. I've understood that a large part of May-Sigurdsson's book is devoted to constructing functors $f^\ast$, $f_\ast$ and $f_!$ in parametrized homotopy theory - can these be considered as some kind of lifts of those in the usual derived category of abelian sheaves, or do they just have the same names? Is there a reason that $f^!$ does not appear; does Verdier duality fail in this context? 

I haven't actually read Ramanujan's original article, which appears in \bib{MR2280843}{collection}{ author={Ramanujan, Srinivasa}, title={Collected papers of Srinivasa Ramanujan}, note={Edited by G. H. Hardy, P. V. Seshu Aiyar and B. M. Wilson; Third printing of the 1927 original; With a new preface and commentary by Bruce C. Berndt}, publisher={AMS Chelsea Publishing, Providence, RI}, date={2000}, pages={xxxviii+426}, isbn={0-8218-2076-1}, review={\MR{2280843 (2008b:11002)}}, } However, Ramanujan certainly was familiar with modular forms and the "standard" proof of this congruence uses only modular forms. Namely, the function $\Delta(z) = \sum_n \tau(n)q^n$ (where $q = e^{2\pi i z}$) and the Eisenstein series $G_{12}(z) = -\frac{B_{12}}{24} + \sum_n \sigma_{11}(n)q^n$ are both modular forms for $\mathrm{SL}(2,\mathbf{Z})$ of weight twelve. One can show that they satisfy the linear relation $$ \Delta = G_{12} + \frac{691}{156}\left( \frac{E_4^3}{720} +\frac{E_6^2}{1008}\right)$$ by a standard method of modular forms: one computes the dimension of the space of modular forms of given weight (in this case dimension two), then one produces more modular forms of this weight than the dimension, and then it suffices to prove a relationship like the one above for finitely many Fourier coefficients in order to prove it for all of them. Equating the Fourier coefficients in the above equation and reducing modulo 691 gives the congruence of Ramanujan. (NB: the Fourier coefficients of $E_4$ and $E_6$ are integers.) A nice reference is Don Zagier's part of the book "The 1-2-3 of Modular Forms". 

Here's another example from algebraic geometry. For every $g \geq 3$, there exists a smooth curve of genus $g$ with no automorphisms. To prove this, we first prove the seemingly weaker claim that there exists a stable curve of genus $g$ without automorphisms. This is easy: take any curve of genus 2, pick a point $p$ on it. Since the automorphism of this curve is finite the point $p$ has only finitely many conjugates under the action of the automorphism group, so we can choose another point $q$ which is not conjugate to $p$. Glue $p$ and $q$ together to get a stable curve of genus 3 with no automorphism. Gluing any number of pairs of points together on this curve produces automorphism-free curves of any genus. Then we invoke the existence of the Deligne-Mumford compactification of $\mathcal M_g$. For in a family of curves, the automorphism group is an upper semicontinuous function, so in particular the condition of having no automorphisms is open. But we know that there is a point in $\overline{\mathcal M}_g$ corresponding to a stable curve with no automorphism, so there must in fact be a whole Zariski open set of curves with no automorphism. On the other hand, smoothness is also an open condition and $\overline{\mathcal M}_g$ is irreducible, so we are done. 

I can at least answer your last question: a line bundle on an AV gives an extension by $\mathbb G_m$ if and only if it has degree zero. (So I guess there is an obstruction in a particularly simple $H^2$!) This is usually stated as an isomorphism $A^\vee = \operatorname{Pic}^0 A \cong \mathrm{Ext}(A,\mathbb{G}_m)$. More generally, extensions of an abelian variety by a torus T are classified by homomorphisms from the character group of T to $A^\vee$, and when $T = \mathbb{G}_m$ such a homomorphism is just determined by the element of $A^\vee$ that a generator is sent to. If I recall correctly this is discussed nicely in Serre's Groupes Algébriques et Corps de Classes. 

A map from an algebraic variety $X$ to a projective space is the same thing as a globally generated line bundle on $X$. What geometric object on $X$ corresponds to a map to a weighted projective space?