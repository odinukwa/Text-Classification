We have 2 upstreams ISP A and ISP B. ISP A (10Mb/s) is our main upstream with good bandwidth. It sends us default route over bgp. ISP B (2Mb/s) is our backup upstream with a small bandwidth, but it sends us Full Routing Table. I am new to BGP so I'm looking for a way to make sure that most of the inbound and outbound traffic would use ISP A and fail-over to ISP B. What are the best ways to do it? 

Is there a way to make a global alias in Sendmail so it would send email to all users? I tried to create an alias and included the list of all my users, but when I try to process it by m4, I receive an error that the line is too long. 

We have a couple of branch offices that need to connect to a main site. We plan to use Cisco ASAs 5515 to establish VPN connections. We would also like to have 2 ISPs at each location to make the connection redundant. Here is the image: 

It's probably not running because it's unable to find the binary. Without any error log though, that's just an assumption I'm making. Try adjusting the part in your script to use its full path. I'm not sure how you installed (either via yum or manually), but you can find out its full path by running . 

We did a lot of Moodle performance optimisations where I used to work and used PHP Xdebug profiling to help out with a lot of it. By enabling profiling, it will produce a *.cachegrind file which is then readable by many readers - I use QCacheGrind on Windows, or KCacheGrind on Linux. You should then be able to pinpoint the function which is taking its time. From memory, it is probably the amount of course data that it's trying to load when the user logs in. If there is too much data, and it's grabbing all of the data from the SQL server rather than only whats necessary, this could slow things down quite a bit. This can also be identified using the slow log as mentioned in a comment above, providing that its the SQL query that's causing the performance issue. I would also definitely advise upgrading your Moodle instance to something newer as I know there were a lot of performance fixes pushed across to the upstream repository since Moodle 2.2.3. We used to push these over to Moodle as an official Moodle partner. 

I have a fresh install of RHEL 5.6 and I wanted to apply as many updates as possible without changing the main version to ≥ 5.7 (as I will be installing software on top of RHEL that requires 5.4-5.6). Is there a command that will allow me to achieve that? 

I have two sets of ESXi hosts, one set for management and one for tenants. Each ESXi host has 8 nics and four vSwitches. All vSwitches are trunked via aggregated interfaces to a pair of EX in VC mode. I only have one ISP connection with a network allocation (/28) which is bridged (the ISP provides the gateway that we use) The EX uplink to the Sonic is ge-0/0/20, a trunked port for 5 VLANs: (10, 20, 30, 60, and ‘default/untagged’ vlan). The rest of the VLAN's are internal traffic, unrouted, no gateway. I need to have direct internet connection on VLAN 60 (not NAT). I have setup a RVI on the switch, vlan.60 as per $URL$ The Sonicwall supports “L2 Bridge Mode” so I can bridge my ISP connection (now connected @ X1 port) to the X0 port. They say on their KB that this way, you can effectively span your WAN subnet and insert the Sonicwall “transparently”: $URL$ If I bridge X0 to X1, I will only have a public interface for the sonicwall, I won't be able to use it's current LAN IP 10.0.14.254 Can I then assign my entire WAN subnet on my l3-interface of vlan.60 ? And, do I need to set the native-vlan-id of my ge-0/0/20 uplink to VLAN 60 ? The Sonicwall is connected to EX ge-0/0/20 (gigabit port) through X0 and to the me0.0 ('vme') port through X3. ![Topology][1] Topology: i.stack.imgur.com/Ijzw2.png 

at the end of dhcpd.networks file (which I include into shared-network 'clients' clause, see above), all my clients start getting ip addresses from 172.20.111.0 range, regardless if they have a class specified for their port. Is there a way to make dhcpd server first look at class declarations and then subnet ? 

After reading man dhcpd.conf and playing around I've managed to achieve my goal by making the following ammendments to my dhcpd.networks file: 

I have a question about correct isc-dhcp configuration. I want to lease ip addresses to users based on switch port. For this I use DLink DES-3200 series switches. Everything works well, but recently I've decided to lease particular subnet to all unknown user, i.e. not explicitly specified in dhcpd.conf file. Here is a config example: # dhcpd.conf 

At my company we have a single Cisco 3925sec/k9 router running BGP with 2 ISPs. Now we want to purchase a redundant router of the same model to eliminate a single point of failure. I can set up BGP between routers and ISPs no problems. We plan to send out all traffic through ISP A and receive all traffic through ISP B (ISPs send us only default gateways and we can play around with as-prepends and local_pref attributes for that). 

Your research is right. You cannot redirect with a CNAME because DNS does not work this way. You would need some sort of web server to accept the request and rewrite the URL to HTTPS. Some domain registrars allow you to do a redirect on their web server if you use their name servers. DreamHost may provide this service but I have never used them so I cannot say. 

Rather than having a location block for each redirect, you can always just add rewrite rules into an existing location block: 

I just tested this and it looks like the GitLab API response is using pagination. According to the documentation ($URL$ the default number of results per page is set to 20 and the starting page is 1. To adjust the maximum results per page, you need to use the variable in the HTTP request line. You can change the page number by using as well, if you have more repositories than the maximum value of . You can specify a maximum value of 100. For example, you request may look like: 

I'm setting up a freebsd router and want certain IPs on my network to be forwarded to our local webserver if they make port 80 requests. An example would be - banned user tries to surf the web, but all his requests are forwarded to the web page which notifies him that he is banned. As I understand I can use IPFW for this and maybe NATD. I would be grateful if someone could show me a good example on how to do it. 

This way all my outgoing traffic is departing ISP B (since it sends me more specific routes) and all my incoming traffic comes in from ISP A (it shows up as a better route on the internet). If one of the ISPs goes down, the internet will still be available through another ISP. 

I am a bit new to ASAs so far, so my question is "Is it possible to set up ASA 5515 to use 2 ISPs to have VPN connection with a remote site and in case of the main ISP's failure switch over to backup ISP automatically and then to return back to the main one when the link is reestablished ?" 

I'm setting up a virtual environment consisting of 10 VM's with 2 primary SQL databases required. The infrastructure allocates two pairs of SQL 2008 R2 Enterprise edition (VM's). The pairs are recommended in order to achieve redundancy, however there are no specific methods recommended in order to achieve it. The 10 VM's will be running on a single ESXi host, which is connected via SAS 6Gb HBA to a SAN. I am looking for a recommendation in order to achieve redundancy between the two pairs of SQL databases - would Failover Clustering be the way to go? Are there any recommendations for configuring this failover cluster with vmdk files? 

I noticed this new workaround in the redhat KB: Red Hat Enterprise Linux 6.2 Manually Setting a Preferred Operating System Release Beginning in Red Hat Enterprise Linux 6.3, Red Hat Subscription Manager could set a preferred operating system version to use to limit automatic updates for a system. This is covered in Section 5.7.4, “Setting Preferences for Systems”. However, it is not possible to set a preferred operating system through Red Hat Subscription Manager on older versions of Red Hat Enterprise Linux. The system can be restricted to a certain operating system version on Red Hat Enterprise Linux 6.2 by editing the yum configuration. For example, to limit yum updates to 6.2-version packages: 

Here I supply the list of IP addresses that are all alive, as you can see in previous command, but only 2 hosts out of 8 show up as alive. Can anyone explain this behavior of nmap and maybe tell the work around ? I want to use nmap in the shell script to quickly determine alive hosts. Previously I used 'fping -a' command, but nmap seems to be better at discovering hosts behind the firewall, so I would like to switch to it without modifying my script too much. Any help will be appreciated. 

I am new to powershell, but I've been reading manuals and practiced a little bit. My objective is to List all users in all Security Groups under specified path. I have found the way to do it: 

So my question is, what is the best solution to make sure I keep the state of static NAT and stateful firewall rules (not ZBF) on both routers at the same time? Again, I want traffic to leave through ISP A and return through ISP B. Is it possible at all or do you think it would be better to purchase a pair of ASA 5500 series with Active/Active support and do NAT and inspection on them?