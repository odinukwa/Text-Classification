How standard is the concept "local homotopy inverse"? I do not know any reference where similar definition apears. What are the weakest assumption that ensures $\mathcal{B}_f^*=\mathcal{B}_f$? If $X$ and $Y$ are cohomology $n$-manifold, then the standard topological degree theory implies the coincidence. I am interested in more general metric spaces where complicated (co)homology is allowed. 

I have the following question. Suppose $g_1$ and $g_2$ are two finite dimensional, nilpotent, stratified Lie algebras and $A:g_1\to g_2$ is a morphism of the graded Lie algebra. I wonder whether there is a natural way to speak of the determinant of $A$ similar to the Euclidean case, namely in the Euclidean case, a linear mapping $A:\mathbb{R}^n\to \mathbb{R}^n$ can be identified with a matrix and so the determinant can be defined as the determinant of the matrix (represented in the global coordinates). Here the difficulty for me is the following: $g_1$ and $g_2$ are not necessarily the same Lie algebra and so I cannot jsut fix an orthogonal norm basis of each Lie aglebra and use the determinant of the corresponding matrix, since the representation matrix will then depend on the basis for $g_1$ and $g_2$ and is not invariant under change of basis. Note also that $A$ is not necessarily an isomorphism of the Lie algebra, in which case, one could associate a volume measure for the Lie algebras and define the determinant of $A$ as volume derivatives. (In the Riemannian manifold case, one can use the invariant determinant for the differential $Df(p):T_pM\to T_qN$ of a smooth map $f:M\to N$, namely regard the differential as a tensor field). References, suggestions and comments are greatly appreciated! 

I have thought about the same question when I am writing my lecture notes on degree theory. Here, I provide some information on this problem and I wish it may somehow help you. I found that in the book "Differential Topology and General Equilibrium with Complete and Incomplete Markets", you can read from google books $URL$ it is claimed the uniqueness of the topological degree (actually mod 2 degree) on a differentiable manifold and refers to another book, which I do not have a copy. The proof of the uniqueness in the Euclidean setting can be found here: $URL$ or if you want, read Erhard Heinz's 1959 paper. The topological degree can be defined for mappings between reasonable topological spaces (i.e. Hausdorff, locally compact, connected, locally connected), where a cohomology/homology theory is avaiable, see for instance the paper by Semmes 96' or Heinonen-Rickman 02'. But of course, it is difficult to prove the uniqueness of such a theory. From the point of view of application, (since it is often just a tool in studying other problems), the uniqueness of such theory is not that important. 

One more remark on the definition of Sobolev spaces. Given a general metric measure space $(X,d,\mu)$, where $(X,d)$ is a metric space and $\mu$ is a locally finite Borel measure on $X$, one has at least four different definitions for Sobolev spaces, which are equivalent in very general context. I strongly recommend the following book to those people who are interested in such a general theory: J.Heinonen, P.Koskela, N.Shanmugalingam and J.Tyson, Sobolev spaces on metric measure spaces: an apporach based on uppper gradient, Cambridge Studies in Advanced Mathematics Series (To appear). Except the references mentioned by Timur on SObolev spaces, I would also recommend the following book. In particular, it contains a nice treatment of the Sobolev type inequality from the point view of certain capacity estimate. (also nice see the nice trunction method used there) Mazʹya, Vladimir: Sobolev spaces with applications to elliptic partial differential equations. Second, revised and augmented edition. Grundlehren der Mathematischen Wissenschaften [Fundamental Principles of Mathematical Sciences], 342. Springer, Heidelberg, 2011. xxviii+866 pp. 

See page 37 of "lecture notes on qusiconformal and quasisymmetric mappings" at $URL$ for a simple proof of this fact. (The proof uses the metric definition of a quasiconformal mapping.) For general Sobolev homeomorphisms, one has to follow the above references pointed out by Tapio above. 

I think the argument they used is very clear. As you have noticed already, one can easily verify the analytic definition. For property 2 in the analytic definition, it is clear. So one only needs to verify property 1. We know that $f\in W^{1,1}_{loc}$ if and only if $f$ is absolutely continuous on almost every line segment that is parallel to the coordinate axis. To verify the ACL property, one only need to show the following: If $E$ is a line segment intersecting the real line $\mathbb{R}$ such that $f$ is ACL on $E\cap \mathbb{H}^+$ and ACL on $E\cap \mathbb{H}^-$, then $f$ is ACL on $E$. This is clear by definition. Since ACL means that for any fixed scale, there exists a partition of $E$ such that the variation of $f$ is smaller than the given scale. Around the singularity point on the real line, the uniform continuity of $f$ on each compact neighborhood implies that one can make the variation small by taking the neighborhood small. Then away from the neighborhood, $f$ is ACL and hence the total variation is small as well. A philosophical way ot thinking about this from the point view of ACL mapping is the following: First of all, one notices that for a continuous function of bounded variation defined on the real line $\mathbb{R}$, $f$ is ACL if and only if $f$ maps sets of (Lebesgue) measure zero to sets of (Lebesgue) measure zero (the so-called Lusin's Condition N). Second, for a homeomorphism $f$ of bounded variation between subsets of the real line $\mathbb{R}$, the essential way for $f$ fails to satisfy Lusin Condition N is that there is a cantor set of measure zero that gets mapped to a set of positive measure. Moreover, from the point view of the construction of counter-examples, the singular cantor set must be non-trivial, it is of Lebesgue measure zero but has positive Hausdorff dimension. In our case, $f$ is homeomorphism and BV, the only singularity is one point on the real line $\mathbb{R}$ and so it must be ACL by the explaination above. This applies to the removability result of more general homeomorphism of finite distortion. You may read the following thesis for an extension of the above (analytic) philosophy: Rajala, Kai Mappings of finite distortion: removable singularities. Dissertation, University of Jyväskylä, Jyväskylä, 2003. Report. University of Jyväskylä Department of Mathematics and Statistics, 91. University of Jyväskylä, Jyväskylä, 2003. As you already observed, for the removability problem in the category of quasiconformal mappings, you may use the geometric definition of quasiconformality as well. This is clear simply notice that the real line $\mathbb{R}$ is of zero conformal capacity and sets of zero capacity are removable for quaisconformal/quasiregular mappings. See also the thesis of Kai for the removablity result from the geometric point of view. I wish this at least gives you a brief view of this kind of problems in geometric function theory. 

$f$, while in Leonid and Jani's paper, they essentially use the idea of heat flow. But the problem is that it is easy to estimate the distortion via Beurling-Ahlfors extension, but very difficult to estimate the distortion via the heat flow extesion, even though the later is better. There is another extension, called Douady-Earle Extension, which essnetially says that if a quasisymmetric mapping commutes with a Fuchsian group, then then the extension can be chosen to be so as well and they have important application in Teichmuller theory, Kleinian groups and dynamics. 

The lemma says that given $\lambda\geq 1$, $p\geq 1$, $a_j\geq 0$, for a collection of balls $\{B_j\}_{j\in\mathbb{N}}$ in $\mathbb{R}^n$, it holds $$\|\sum_j a_j\chi_{\lambda B_j}\|_p\leq C(n,p,\lambda)\|\sum_j a_j\chi_{B_j}\|_p.$$ I saw in some papers that people call this Bojarski's lemma since it appeared in the paper of Bojarski: Bojarski, B. Remarks on Sobolev imbedding inequalities. Complex analysis, Joensuu 1987, 52–68, Lecture Notes in Math., 1351, Springer, Berlin, 1988. However, I was informed by people that the above paper is in fact not the first reference on this lemma, at least another mathematcian proved this lemma in an unpublished notes (noticed by my supervisor as well). As far as I know, in mathematics, we give name to some lemmas to express our respect on the mathematician who proved the corresponding results. But usually for young mathematicians, we are not aware of all the results we cited, in particular if some one add a name of some results and we just follow their name without going to the first reference for the result, it is easy to give a wrong title for some results. This sometimes causes servious problems for some mathematicians since they think the result should "belong to them". The proof of the lemma was based on a maximal function argument and I do not know whether there are more elementary proofs than the one appeared in Bojarski's paper. If there were, then I would expect that there will be earlier references for this result. Then I will correct the name of this lemma in my paper. 

I think this is more or less an exercise, instead of a research problem, which is not suitable for posing on this site. However, I provide an link for your problem, $URL$ You could find more information by just google "subharmonic functions", here is an overview $URL$ There are also nice books in the London Mathematical Society Monographs on subharmonic functions by Hayman et al. , which contains all the desired properties of subharmonic functions. 

The general answer to this question is no. Global bound on the Ricci curvature is not necessary for the density of smooth functions with compact supports. Indeed, when $(M,g)$ is a smooth complete Riemannian manifold with positive injectivity radius and lower bound for the Ricci curvature, then the smooth functions with compact support are density in the Sobolev spaces for $p$ equals 2. This can be found for instance on Emmanuel Hebey's book: Nonlinear Analysis on Manifolds: Sobolev Spaces and Inequalities. 

Modification after the comments from below. Let I_1=(a,b) and I_2=(c,d), where a< b<=c< d. Then \frac{1}{|I_1|}\int_{I_1}f'(t)dt=\frac{f(b)-f(a)}{b-a}:=J_1, similarly, \frac{1}{|I_2|}\int_{I_2}f'(t)dt=\frac{f(d)-f(c)}{d-c}:=J_2. Let |J| \to 0, J_1 \to f(b-), while J_2 \to f(b+). So one natural assumption is that f' exists everywhere! 

As you have already seen from the comments, the real difficulty is to show that $f$ is not injective. This can be proved by using the so-called topological degree theory. Namely, if $f$ is injective, then by the invariance of domain, $f(\mathbb{R}^N)$ will be a domain. Then the topological degree is constant on $f(\mathbb{R}^N)$. On the other hand, since $f$ is differentiable everywhere, at points where the Jacobian is non-zero, one can easily prove that the local degree equals to the sign of the Jacobian, and hence the Jacobian of a differentiable homeomorphism is either non-negaitive or non-positive. So in your situation, $f$ cannot be injective. If you want to know more on degree theory, you can read any book on topological degree theory to figure out the detailed proof of my indication.