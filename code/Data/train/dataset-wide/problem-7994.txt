I'm interested in writing GAP code to compute the inner automorphism group of a finite Lie algebra. (I'd like to be able to group conjugate subalgebras together.) I've had trouble finding good references on the topic, and I'm getting an unexpectedly large group in testing. UPDATE 2: As @Paul Levy says in his answer below, there are problems with making sense of the exponential map when $p$ is small with respect to $n$. GAP computation shows that extending to $\mathbb{Z}$ coefficients, then restricting back down to $\mathbb{F}_p$ coefficients, fails for IIRC $sl(4,\mathbb{F}_3)$. Indeed, there are larger problems for small $p$. The image $\operatorname{exp}(g)$ may not be an automorphism (may not preserve brackets)! I found the following paper very helpful: Mattarei, S., Artin-Hasse exponentials of derivations, J. Algebra 294, No. 1, 1-18 (2005). ZBL1085.17003. Equations (1.1) and (2.1) of Mattarei's paper give precise measurements of how the product fails to respect exponents. A sufficient condition is for the maximal nilpotency index of elements of $\operatorname{ad} \mathfrak{g}$ to be at most $(p+1)/2$. For example, it is enough for $(p+1)/2$ to be at least the dimension of $\mathfrak{g}$. Likely one can do better. In particular, it looks very likely that the exponential map of the adjoint does not give automorphisms for $\mathfrak{g} = sl(3,3)$, explaining the resulting large group. END UPDATE 2 UPDATE: Upon closer examination, I realized that $sl(3,3)$ is not simple. The nilradical, solvable radical, and center coincide as a 1-dimensonal subalgebra. Modding out yields a 7-dimensional algebra, which (partly) explains the occurrence of $G_2$. It appears that $\mathbb{F}_3$ is an exception, as sometimes happens with small fields. I computed the inner automorphism group of $sl(3,5)$ to be $PSL(3,5)$, which is according to reasonable expectation. In short, it appears that the answer to the question of whether the inner automorphism group of $sl(3,3)$ has order 9285337152 is "yes". I still wish that I had better references on inner automorphisms of finite Lie algebras. END UPDATE Let me review what I know. I'm not an expert on Lie theory, so apologies if any of this is terribly naive. For a complex Lie algebra, computing the inner automorphism group is well-established. The inner automorphism group is generated by the exponentials of the adjoints of the elements of the Lie algebra. Thus, $$\operatorname{Inn}\mathfrak{g} = \langle I + A + \frac{A^2}{2!} + \frac{A^3}{3!} + \cdots\rangle,$$ where $A = \operatorname{ad} x$, taken over all $x \in \mathfrak{g}$. In passing to rational Lie algebras, one gives up convergent limits. The usual thing to do seems to be to restrict to nilpotent elements (those whose adjoints are nilpotent matrices), so that the exponential has only finitely many terms. See e.g. $URL$ . In passing to fields of prime order $p$, or more generally those of characteristic $p$, one gives up well-defined division by $p$. I understand that one gets around this by pulling the matrix entries back to $\mathbb{Z}$, computing the exponential over $\mathbb{Z}$ (again, restricting to nilpotent adjoints), then taking the result $\mod p$. Exponentials in characteristic $p$ are mentioned briefly in e.g. the course notes at $URL$ , though I haven't found any place where they are discussed carefully. I implemented the latter exponentiation in GAP for fields of prime order. (Code omitted for the time being.) Since GAP wants Lie algebras to act on the left, but groups to act on the right, the correct matrix for basis $B$ is computed by: 

Similar (but slightly more involved) arguments to those for $A_6$ show that $A_8$ satisfies $P(*,*)$. 

As you point out (relayed from Frank Lutz), it seems likely that checking shellability is NP-hard. But all is not lost: 

In this answer, I want to 1) give a shorter approach than the above (avoiding gradient paths) to see that $\Delta P$ is homotopy equivalent to a disjoint union of bouquet of spheres plus isolated vertices, and also 2) answer the reference request from Dan Ramras above (since my references didn't fit into a comment.) 

You're starting from knowing that simplicial homology and singular homology are the same. Let's assume that cellular homology is a homotopy type invariant (as did some previous posters). Up to homotopy equivalence, any CW complex subdivides to a simplicial complex. (The last sentence follows from the proof of Theorem 2C.6 in Hatcher, at least for finite CW complexes.) It's relatively straightforward linear algebra and combinatorics to show that subdivision doesn't change homology. Making all details of the above precise might be unwieldy. In particular, isn't the main point of singular homology to show that simplicial/cellular homology is a homotopy type invariant? You could avoid the homotopy type problem by restricting to regular complexes (where all attaching maps are homeomorphisms), but this is a real restriction. 

I think you can verify Greg Martin's answer using indicator variables and linearity of expectation. Let the random variable $X_i$ be the number of steps where one of the balls has the $i$th color before the $i$th color either disappears or becomes the only color. The expected value of $X_i$ is as in the Gambler's Ruin, that is, $1 \cdot (n-1) = n-1$. Each step involves two colors, hence the time to a single color is $\frac{1}{2} \sum X_i$. The $\binom{n}{2}$ answer follows. 

If you're willing for "useful" to apply to a field other than topology itself: collapses are quite important in combinatorics. Elementary collapses correspond (via Euler characteristics) to matching up equi-numerous objects counted with opposite signs in inclusion-exclusion type problems. Discrete Morse theory is the generalized version of this. The basic idea in discrete Morse theory is that one can collapse faces of adjacent dimension in skeleta of a simplicial complex, then glue on higher dimensional faces in a way respecting the collapsing (without changing homotopy type). Discrete Morse theory has been a quite important tool in topological combinatorics for the past 10 or 15 years. See the papers of Forman: "Morse theory for cell complexes" introduced the topic (though I should mention that the basic idea was discovered by Ken Brown in "The geometry of rewriting systems: a proof of the Anick-Groves-Squier Theorem"), or "Topics in combinatorial differential topology and geometry" is a survey article. Discrete Morse theory can also be seen as a generalization of the theory of shellings (also based on a collapsing idea), which has been important in topological and algebraic combinatorics since the late 70s/early 80s. 

The first is discussed in the Mattarei paper referenced in the question, and elsewhere in the Lie literature. The truncated exponential of an adjoint need not be a Lie isomorphism (homomorphism), unless we assume a stronger condition such as $(\operatorname{ad}x)^{(p+1)/2}=0$. The second is harder to find, probably for good reason. Articles on the Groupprops Wiki appears to be relevant; I've seen it elsewhere, but don't have the reference handy. There are multiple troubles in this approach. There's an obvious 'lift' to the integers only for fields of prime order. The integer matrix associated with a nilpotent matrix over $\mathbb{F}_p$ may fail to be nilpotent. And apparently the 'divided power' Leibniz condition mentioned in the Groupprops link can fail (see below). Here's the part that may be interesting: I implemented both approaches in GAP, and ran them on $sl(3,3)$. There are 1093 1-dimensional spaces generated by nilpotent elements, each of nilpotency 3. Of those, 157 give Lie isomorphisms with the truncated exponential approach, while 55 give Lie isomorphisms with the second 'divided powers' approach. For the divided powers approach, I only considered those $x$ for which the integer matrix associated with $\operatorname{ad}x$ was nilpotent, and one might be able to include more elements by looking for terms in the rational exponential series that are 0 mod $p$. The elements that worked with the 2nd approach were a proper subset of those that worked for the 1st. I checked for Lie isomorphism by computing the table of structure constants according to a given basis and its image. The groups generated was $PSL(3,3)$ in both cases. This is contrary to what I posted above. (The difference arises with the isomorphism check.) I repeated the same experiments with the quotient of $sl(3,3)$ by its center. Here, there are 364 1-subspaces with nilpotent elements. All give isomorphisms via the truncated exponential. Only 24 give isomorphisms via the divided powers approach. Both approaches give $G(2,3)$ as a group of automorphisms. I don't know of an example where the two approaches give different groups, but expect that such examples likely exist. Based on this experimentation, it looks to me like the best way to practically generate a large group of (inner) automorphisms of a finite Lie algebra in characteristic $p$ is to follow the 1st approach. That is, take exponentials of adjoints of elements with nilpotency at most $p$, then throw out the maps that are not homomorphisms. I wish I had a way to restrict to a small subset of the set of nilpotent elements. 

I'm fond of the following false proof of the Strong Law of Large Numbers. Let $X$ be a random variable with expected value $\mu$ and variance $\sigma^2$, and let $X_1, X_2, \dots$ be i.i.d. copies of $X$. Then $$\operatorname{Var} ( \frac{1}{n} \sum_{i=1}^n X_i ) = \frac{1}{n^2} \cdot n \sigma^2 = \frac{\sigma^2}{n} \rightarrow 0 \textrm{ as } n\rightarrow\infty $$ and since a random variable with variance 0 takes on a single value with probability 1, we must have $$\lim_{n\rightarrow\infty} \frac{1}{n} \sum_{i=1}^n X_i = \mu \textrm{ almost surely.}$$ (It's a memorable heuristic reason to tell undergraduate probability students, even if not a true argument.) 

By the way, GAP will calculate the relevant data for these arguments for you pretty easily. The following commands will do it (replace $G$ with your favorite group): 

An inefficient-but-working way to compute the inner automorphism group (the group generated by exponentials of nilpotent adjoints) is: 

An independence system has gone under a lot of other names. The most used of such is an abstract simplicial complex. As the name implies, these are very important in topology, and in combinatorics closely connected with topology. See $URL$ Other names these have gone under include hereditary systems, down sets, ideals of sets, ... Any simplicial complex $\Delta$ is the intersection of all matroids on the same vertex set containing $\Delta$ as a subcomplex. You can see this easily for example from the circuit definition of matroids -- a simplicial complex with a single minimal nonface ("circuit") is a matroid. I don't know offhand of any canonical way to define a matroid from a simplicial complex. Simplicial complexes are considerably more general objects, so it seems a little unlikely that there would be one. 

In "Subdivisions, shellability, and collapsibility of products", Karim Adiprasito and Bruno Benedetti claim to show that "a triangulation of a sphere or ball is PL if and only if it becomes shellable after sufficently many derived subdivisions." The paper doesn't seem to have appeared in print yet, but according to the webpage of one of the authors, it is to appear in Combinatorica. 

I accepted @Paul Levy's answer, but meanwhile I want to add some further extended comments, references, and experimental data. Perhaps this will be useful to someone else at some point. As Paul Levy says, in order for there to be any hope of defining an exponential of an adjoint $\operatorname{ad}x$, one must have $(\operatorname{ad}x)^p = 0$. There are then two ways one could reasonably proceed: 

The papers in the accepted answer by @SixWingedSeraph all refer to a somewhat more specific problem, that of extending an automorphism of a normal subgroup to a larger group. Although the questioner says something about a group extension (which would usually imply normality of $H$), he did not specify that $H$ should be normal. Extending automorphisms of normal subgroups The Wells paper "Automorphisms of group extensions" is the first paper I know about on this topic. In the situation where $N$ is a normal subgroup of $G$, such that $\alpha : G/N \rightarrow \operatorname{Out}(N)$ is the action of the quotient on $N$, Wells finds an exact sequence $$1 \rightarrow Z^1_\alpha(G/N, Z(N)) \rightarrow \operatorname{Aut}(G; N) \rightarrow \operatorname{Compat}(G/N; N) \rightarrow H^2_\alpha(G/N, Z(N)). $$ Here $\operatorname{Aut}(G; N)$ is the group of all automorphisms of $G$ fixing $N$, and $\operatorname{Compat}(G/N; N)$ is all pairs of automorphisms of the quotient $G/N$ and subgroup $N$ satisfying a certain compatibility condition. $Z^1$ and $H^2$ are the 1st cocycle space and the 2nd group cohomology, respectively. It should be noticed that the last map is not a group homomorphism. I haven't managed to get my hands on the Robinson paper "Applications of cohomology to the theory of groups", but I understand it has some explanation and applications of Wells' result, as well as a new proof. The Jin paper "Automorphisms of groups" restates the result of Wells in somewhat different language, and applies it to the case where one wants to find an automorphism of $N$ which acts trivially on $G/N$. I'll remark that one interesting case is where $N$ is the direct product of isomorphic finite simple groups (e.g., a nonabelian chief factor). Here $Z(N)$ is trivial, which makes the long exact sequence above collapse rather nicely. But in this case one can obtain similar results by using the fact that if $N$ is center free, then any homomorphism $\alpha : Q \rightarrow \operatorname{Out}(N)$ uniquely determines an extension of $Q$ by $N$. This is however only mildly more elementary, as proving this fact also requires group cohomology techniques -- see chapter IV.6 of Ken Brown's book "Cohomology of groups". Extending automorphisms of arbitrary subgroups Skupp shows in "A characterization of inner automorphisms" that an automorphism $\varphi$ of a group $H$ extends to an automorphism in every group $G$ with $H$ embedded in $G$ if and only if $\varphi$ is inner (i.e., obtained via conjugation by some element). Pettet showed that the same holds if we restrict $G$ to be finite in "On inner automorphisms of finite groups" and "Characterizing inner automorphisms of groups". So I guess the overall answer to the original question is "sometimes not". If you have a specific situation which is still of interest, you might try looking at the second Pettet paper to see if it helps you show the automorphism extends or does not extend. It looks like it would be a hard problem to find a general characterization.