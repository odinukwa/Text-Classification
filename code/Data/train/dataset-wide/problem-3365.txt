This doesn't make sense. Edit: Actually, looking at this, this is not even a PHP thing. This is a Webmin page. PHP isn't even involved in the request you're looking at. Where are you getting this data? It's not from the request to index.php. It's for a request to the Webmin init module where you were changing the state of the lighty initscript. My original reply didn't take into account that your data is simply not what you think it is. PHP and lighty are not involved in the request you're looking at, at all. 

classicmanpro did a great job covering most of the differences, but I'll try to clear up the confusion here about resource usage. Virtualmin is a module of Webmin. You can't have Virtualmin without Webmin. Resource usage of Virtualmin, by default, is a bit higher than Webmin by itself, but it does not have to be. Virtualmin enables caching and pre-loading of a number of libraries, making the default memory usage somewhere around 110MB, while a normal Webmin install on a 32 bit system will be only about 10-12MB. You can easily disable the caching and such that Virtualmin does to make it use exactly the same amount of memory as Webmin alone. There is documentation about this here: $URL$ Usermin is a webmail client, with some extras. If you need to manage your server, then you need Webmin, or Webmin+Virtualmin. Usermin may or may not be a useful addition. I like having it on servers that have mail, because I can check mail with my phone (there is a mobile theme that provides a pretty nice UI on WebKit enabled phones like iPhone and Android phones). Resource usage of Usermin is similar to, but separate from Webmin (Usermin is not a module of Webmin; it is a separate server, and it drops privileges and performs actions as the logged in user, making it safer for some use cases). i.e. Usermin on a 32 bit system takes about 10-12MB of memory. In short: 

I'm implementing security restrictions for a client who would like to prevent admin accounts from logging into workstations. For example each person has a user account and an admin account and only the user account should have access. The admin account is for troubleshooting purposes and for escalating privileges to resolve issues. If I deny Interactive Log-on for the admin accounts, then the ability to use them for Run As is also removed. I also looked at "Allow Log on locally" and specifying only normal accounts but that means removing Administrators from Allow Log on locally which causes further issues. My current recourse is to make a logon script that looks to see if the user is a normal account or admin account and in the latter circumstance start a logout process. Can anyone think of a better way of doing this? We are simply trying to implement least privileged access and ensure the administrators don't login with their admin accounts. 

I'm trying to deploy a custom background into %windir%\system32\oobe\info\background\backgroundDefault.jpg and have created bat, ps1 files in both Applications and Packages to try and deliver the file, however when run through CM the file and folders are not created and success is reported. Even if the background folder doesn't exist the Detection Method still states it exists. For the Application method of deployment I tried a File System path detection on File and on Folder. I also tried a custom powershell script for detection. In both cases installation was recorded successful but the files weren't transferred. Package based installation did the same thing, completed with no errors. I'm pretty confused and search engines aren't helping. When I run the scripts manually with admin access the process works. But SCCM running as System (not in user Context) it repeats the same answer. Has anyone seen this? I'm stumped. Here is the basic bat and ps1 scripts, the custom detection method was just a PowerShell Test-Path command on the end file. bat 

Since I posted this I've come into the problem many times, and in nearly all of them it was Scope Options Having any of the following options set caused problems, 60, 66, 67. In the case of only 60 being set it still allowed connection to an SCCM PXE point outside of the subnet with IP Helpers enabled but failed at providing a boot image. In addition I've also seen incorrect vlan id's causing very similar issues. So in general if you get to the point that PXE starts, talks to CM but doesn't complete (and no error is reported), check your IP Helpers, your vLANs and your Scope options. 

The updates module in Virtualmin/Webmin never does a dist-upgrade (it doesn't even know how). But, if one were done before from the command line, or if you were already on the rolling unstable ("sid") distribution, you would get upgrades like this whenever a new release is forked by the debian folks. In that case, I think you were already running unstable, it just hadn't been forked into "9" yet. At least, that's how I understand it. I'm not really an expert on Debian and apt. But, I do know about Virtualmin. If everything is still working, I probably wouldn't do anything (rolling back can be tricky, too). On Debian, we don't provide many binaries, just a bunch of Webmin modules packaged as debs, and most things will work across version changes without much trouble. There will be pain in the future, as they change things...it's impossible to predict what will change, however. Newer versions of things (like MySQL, PHP, Apache, Dovecot, Postfix, ClamAV) often require changes and updates within Webmin and Virtualmin in order to work. We try to stay on top of changes, but sometimes it can take as long as a few weeks to show up in the next release. Also, you may need to update paths in Webmin for some of your services. If you find yourself looking at a "X does not appear to be installed on your system" warning, and you know it is there, you'll need to re-configure the module to point to the right location for the config files, start/start commands, etc. The switch to systemd has already happened in Debian 8, so the biggest change was already in place, and Webmin has supported systemd for a while. Finally: You're now on the bleeding edge of Virtualmin development (and Debian development). So you're going to have to be an active participant, or end up in a messy situation. While we don't support Debian 9 yet (we don't support new distros until they are officially released, because a moving target is much harder to hit), you can file tickets about new versions of software that comes along if they break things. e.g. if MySQL 5.7 or MariaDB 10 rolls into the repo and onto your system and something breaks, let us know about it in our bug tracker. Our answer will probably be "it'll be fixed in the next release of Webmin/Virtualmin", but we may also be able to provide workarounds until then. Hope this helps. Disclaimer: I work on Virtualmin/Webmin. 

Note: Running a similar index.php test against one of my servers(VPS hosted), I see the following: index.php load about 25-35ms consistently. There are some icons that attempt to load, which drives up the total page load time to around 200-300ms. 

Ah... good ol'Solaris and it's wonderful default policies. When you created the users on a new system install, there was an account expiration time set. This is in the /etc/shadow file, I believe. You will need to unlock the account and then set an expiration time far far into the future. I've tried the "never expires" flag in the past, but it's never worked as expected. You can fix it on a system you've been locked out of by vi'ing the /etc/passwd file after booting into recovery mode. Helps alot if you have a clean working Solaris box you can create a test account and set the expiration flag properly on, and transplant that. Yes, the above is a bit of a fudge. Edit: Corrected file from /etc/passwd to /etc/shadow. $URL$ and $URL$ What does one of the locked accounts look like? (A shadow line, but without the password hash)? 

Is the delay due to initial/pre-first index file load? If so, this could be due to DNS resolution. You can take out this factor in the following tests: 

First thing, check to see whether the rows in question exist in that state in the original database. Chances are, what happened is one of the following: 

First thing that comes to mind is: are you using a FQDN/DNS to initiate a connection to your memcache server or are you using an IP address or local socket? If you are using a hostname, you might be losing some time in the name resolution. Try either putting the FQDN in the clients and servers' /etc/hosts and restart so that nothing gets cached, or change the reference to be IP address based, and see if you don't see an improvement. 

Add the IP of the server to your client's /etc/hosts so that no DNS queries are involved. Run the test again and see if you have more consistent results. If the results are consistent, then the variability is due to DNS resolution. If switching to static IP doesn't help, try referencing the host via IP address in the addressbar when you test the page with your web browser. On the off chance the /etc/host change didn't take. If using fixed IP doesn't clear the variability, then try a local test from the server itself, to rule out network variability. If you still see the issue from a localhost test, then the issue is with your app stack on the server. :( 

It looks like you're confusing which software you're interacting with here. So, let me see if I can clear up some things for you, and I think once you understand how these pieces fit together you'll be able to get your settings right and the behavior you want. Usermin is a completely separate program, running on a different port. A Webmin user is, in no way, effected by what you do with the Usermin configuration. Webmin users are not Usermin users (though either could be a system user, and one user could have both Webmin and Usermin access). So, to be clear: If you are wanting to limit a Webmin user, you do not do it in the Usermin Configuration module (that's for Usermin users). You do it in the Webmin Users module. So, at this point, you may be asking, "Well how do I configure permissions for a Webmin user?" Browse to Webmin->Webmin Users and then click on the username of the user you want to edit. Then, open up the Available Webmin Modules section. Click on "File Manager" in the Others category (or Filemin File Manager, if you've installed the third party version on github, though I think we can't recommend that one at the moment, as it has gone in a weird direction lately, and seems to not interact very nicely with Webmin current versions). Now you can choose how to restrict this user's use of this module. The options are quite fine-grained, and most are pretty intuitive, I think. To limit the user to a specific directory, you can fill in the "Allow access to directories" field with the directories you want available. To have Webmin perform the file actions as the user, rather than as root, you can edit the "Access files as Unix user" option and set it to "Save as Webmin login". In short: Forget about Usermin. It isn't related to what you're trying to do. Also, it doesn't sound like Virtualmin is in the picture at all (though for web hosting related tasks, you probably should be using Virtualmin rather than just Webmin by itself, and it does create website owner user accounts with the kind of permissions you're talking about, by default and without any extra hoop jumping required). On this question: 

I followed a link for a beta version of the client and found that it was included in Microsoft Desktop Optimisation Pack. Apologies for wasting your time... and mine 

I have one SCCM 2012 server not correctly responding to PXE requests for unknown computers. The server has PXE boot support enabled, enabled unknown computer support, boot images available with OS deployments available and targeted at unknown computers. However every time a computer comes through I receive the following error. CLIENT MAC ADDR: 00 50 56 B9 78 87 GIUD: 4239B2EC-D505-4798-0F64-E19BF69BECF9 CLIENT IP: xx.xx.xx.140 MASK: 255.255.255.0 DHCP IP: XX.XX.XX.1 GATEWAY IP xx.xx.xx.1 Download WDSNBP... Architecture: x64 WDSNBP started using DHCP Referral. Contacting Server: xx.xx.yy.yy (Gateway: xx.xx.xx.1) The details below show the information relating to the PXE boot request for this computer. Please provide these details to your Windows Deployment Services Administrator so that this request can be approved. Pending Request ID: 4 Contacting Server: xx.xx.yy.yy TFTF Download: smsboot\x64\abortpxe.com PXE Boot aborted. Booting to next device... PXE-M0F: Exiting Intel PXE ROM. Operating System not found In this case the the computer is a VMware virtual machine (version 7, win 7 x64 architecture) and fails to get any distributions. Looking at SMSPXE.Log I saw the following Client boot action reply: SMSPXE 15/03/2013 10:06:58 PM 2528 (0x09E0) Client Identity: 08279ae0-c184-4fa1-aeac-0fa25b4447fb SMSPXE 15/03/2013 10:06:58 PM 2528 (0x09E0) Set enterpirse certificate in transport SMSPXE 15/03/2013 10:06:59 PM 2528 (0x09E0) Set media certificate in transport SMSPXE 15/03/2013 10:06:59 PM 2528 (0x09E0) Set authenticator in transport SMSPXE 15/03/2013 10:06:59 PM 2528 (0x09E0) Set authenticator in transport SMSPXE 15/03/2013 10:06:59 PM 2528 (0x09E0) PXE::CBootImageManager::FindMatchingArchitectureBootImage SMSPXE 15/03/2013 10:06:59 PM 2528 (0x09E0) PXE::CNotifyTimer::TimerSignalFunc SMSPXE 15/03/2013 10:10:22 PM 2696 (0x0A88) PXE::CNotifyTimer::ProcessTimer SMSPXE 15/03/2013 10:10:22 PM 2696 (0x0A88) PXE::CBootImageManager::PerformMaintenenceTasks SMSPXE 15/03/2013 10:10:22 PM 2696 (0x0A88) PXE::CBootImageManager::PurgeOldImages SMSPXE 15/03/2013 10:10:22 PM 2696 (0x0A88) PXE::CNotifyTimer::Init SMSPXE 15/03/2013 10:10:22 PM 2696 (0x0A88) PXE::CNotifyTimer::CancelTimer SMSPXE 15/03/2013 10:10:22 PM 2696 (0x0A88) PXE::CNotifyTimer::RegisterTimeout SMSPXE 15/03/2013 10:10:22 PM 2696 (0x0A88) For some reason the boot manager gets to FindMatchingArchitectureBootImage but then does nothing else, it doesn't provide any indication if it has or hasn't found a boot image. On all other errors I've looked at with people having problems with this step it shows further information about unable to find and then to return with abortpxe.com but mine isn't. ItemKey="2046820353" is "x64 Unknown Computer" in my SCCM at the Primary site for this Secondary site Deployment server. I've deleted all the "Unknown" computers, I've cleared pending PXE deployments and updated Memberships of all relevant computer groups but it still won't work. Does anyone have any idea on where I should look to resolve this problem or to dig deeper? Thanks