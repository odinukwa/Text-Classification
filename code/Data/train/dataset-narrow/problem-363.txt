one increasingly common reason is to use udp to wrap a new transport that can be distributed without operating system permission. QUIC is an example of this, as is SCTP over UDP ala webrtc. Tunnels/VPN also work this way, because you don't want to tunnel TCP in TCP as two layers of flow and congestion control interact poorly. Native application use of UDP might make sense, in addition to the reasons cited above, when you desire out of order delivery (i.e. avoiding head of line blocking that TCP imposes because it delivers in order). 

you're going to need application protocol logic. one way to do this would be to structure this as an HTTP application.. if you did that your ??? box could be an HTTP intermediary that spoke HTTP/2 on the backside.. then you would only need one connection on that side (and you can arbitrarily mux the active sessions within http/2). 

I'm trying to configure an IPSec tunnel between a Cisco router (ISR) and AWS (Customer Gateway). The connection to the ISP here is a PPPoE connection with a static private IP (e.g. 10.100.1.1) which is mapped to from a public IP, (e.g. 160.1.1.1 ). There is no filtering on the public IP, all traffic is translated to the private. I am now trying to configure the IPSec tunnel, but am not able to get it up. The recommended configuration provided to configure a tunnel if I had a public IP is as follows: 

The adjustment to the first access-list (the addition of the ) allows me to add the to the tunnel and not translate 192.168 traffic headed to 172.16. The 2nd access-list allows me to identify router-originated traffic headed to remote private network, and the 2nd rule ensures translation from tunnel IP to private inside IP (.1.1). Working like a charm. 

Please allow me to join the discussion. Why would you even want to allow your Laptop MAC address on all switch ports with port security ? The port security feature is mainly meant to increase Layer 2 security e.g. prevent MAC overflow attacks on a switch. It's not meant to prevent unauthorized devices to be connected to a RJ45 socket aka Ethernet port. Normally you configure the RJ 45 sockets in your office that are terminated on a Patch Panel and connected to the switch to allow a certain amount of MAC the given port can learn before taking any action (protect, restrict, shutdown). In doing so you're preventing from a possible MAC overflow attack's that can be executed against your switch. Again (it's my personal opinion) the question doesn't make much sense. If you can prove there's a real life reason why you would even care of configuring it that way, let me know. Adam 

This is not my full config - I have tunnel interfaces with crypto configs, lots more routes and a handful more access lists, but just wondering if there's anything in that config that might be causing the inconsistency. 

Finally got it to work, after much playing around. The high level steps to complete were as follows: 

is a pppoe internet connection and a VPN connection to another network - 172.16.1.0/24. Routes are configured for 192.168.1 and 172.16.1. Network is working as expected between these 2 networks, and between 192.168 and the internet ( on dialer1, inside on fa0/1, and ) However, I am unable to connect to 172.16.1 network from the router itself - the source address comes from the tunnel interface IP of 169.254.x.y. I could add a route for 169.254 on the remote network, but would rather want packets originating from the router to have the source address translated to 192.168.1.1. Is it possible to do this? 

most likely the sequence number is outside the valid window for the connection, and is simply dropped by the receiver. If it happens to be in-window, then the receiver will treat it as valid data from A. TCP is insecure and un-authenticated. Its not hard to get it in-window with enough tries. You can and should 'fix' this by running an authentication protocol like TLS on top of the TCP stream, or just use an authenticated transport like QUIC where the packet would never be accepted without knowing A's secret keying material. 

no. The fin means the sender will not send any more data. Pretending you didn't receive the notification isn't going to make them send more data :) 

I have a generic ADSL router that supports dual bridge and pppoe mode. I have an ADSL account configured on the ADSL router, and have the same ADSL account configured as a pppoe connection on a cisco via 1 of the ethernet ports - so I can change the default route of hosts on the network to compare connections. When using the connection via the generic router, I have stable transfers. However, internet usage on the Cisco is inconsistent and jitterish. For example, if I try upload a 2mb file via HTTP to a service (e.g. AWS S3), it seems to upload in bursts, and will sometimes fail. Is there anything obvious in my config below that may be slowing down the connection? 

@Khopcha Use the CLI to configure both routers. There's no sens and value in configuring the settings via the Packet Tracer GUI. If you have an IOS image file go for gns3. From my experience the problem with people learning static routing is that they forget that routing is a two way process. Router 1 will need to have a static route for the 192.168.10.0/29 network and R2 will need to have static routing for the 192.168.10.0/25 network. Configuring the routers you can specify either the Next hop IP address or the outgoing interface. In case of multiaccess networks like Ethernet it's not recommended to specify the outgoing interface because this will create a directly connected static route, so the router will try to ARP ALL destination devices. It can cause performance issue and if ARP proxy is disabled on R2 all ARP requests coming from R1 will fail. So in your type of configuration you could go for either the next hop ip or outgoing interface. HTH Adam 

So I have modified the 3 occurrences of public IPs with the private IP (based on $URL$ but the tunnel does not come up: 

I can confirm that the preshared secret is configured correctly, I downloaded the configuration from AWS and copied it into the Cisco config. Is the setup correct? Any ideas as to what might be wrong? I am not sure if I am meant to be using the private IP in all 3 locations (, and ), or should 1 of them reference the public IP (I've tried using it in and but it didn't work either. Before providing a public / NAT / private setup, the ISP used to provide an L2TP tunnel where the public static IP was on the router, and that worked fine. However the L2TP tunnel is no longer available (but this router / software worked with AWS in that environment)