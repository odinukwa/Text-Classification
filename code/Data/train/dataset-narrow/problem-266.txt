If implementing Option B, trunking the VLAN's that require routing (over a 4x1G LAG) to the Fortigate; is the loss of line-rate routing really that big of a deal in terms of performance loss? As far as I understand, if traffic was destined for a device within the same VLAN (as the source) and didn't need to cross to a different VLAN or Subnet, the packets won't pass through the default gateway/L3 switch; is this correct? Functionality/Practicality aside, which option would be considered best practice in terms of both security and performance? Sort of unrelated - If I needed to use the Fortigate as a VPN gateway to allow remote connections into the network, what is the best practice for facilitating this if deploying Option A? Do I just create a seperate physical connection back from the Fortigate into the core and assign VPN traffic to it? 

The primary need for L3 routing is of course access to the internet. However I do want some inter-connectivity between the first three VLAN's listed above. While I don't necessarily need L7/IPS features on inter-VLAN routing, the Fortigate allows control of L3 routing using user-based rules (Radius, LDAP, Local Auth, etc.) which is appealing. For example, I can use LDAP groups to allow specific users to access portions of another VLAN, while denying other users - So let's say if you connect wirelessly onto the Wireless VLAN and authenticate with the Fortigate, your device can now access portions of the Corporate VLAN. Mainly the primary question I'm looking for a solid answer to is the realistic benefit of line-rate routing over CPU-bound routing (Question 1) and confirming my assumption about non-L3 bound traffic (Question 2). 

I'm in need of some advice regarding the implementation of the network core layer of a network I need to design. I've found some similar questions asked (and answered) already, but none have really given me a clear answer - though there might be no clear definitive answer either. Design Internet <--> Fortigate <--4x1G--> Core <--2x10G--> Access Switches 

[Routed] Corporate VLAN: Workstations, Printers, Servers, etc. (The majority of devices are here) [Routed] Wireless VLAN [Routed] Production VLAN (Media servers, streaming devices, etc.) PBX VLAN (40-50 Digital phones) Finance/Legal VLAN (NAS, Finance workstation) DMZ VLAN (Web servers) Studio VLAN (High-bandwidth 4K video editing on 10G links) [Option A] VLAN to Firewall/Internet 

Example: I can ping Google's root DNS server 8.8.8.8 from my home internet and get about 40ms, through 12 (!) hops, yet I get a under-1ms ping to 8.8.8.8 from another location in the same city, from a different ISP, on a faster connection, through only four hops. 

I'm refining a Juniper SRX 210 UTM IDP implementation in a small business. I'm new to Junos, so I'm hoping someone will be able to point me in the best-practices direction. The customer initially reported that tests using things like Speakeasy bandwidth test shows OK download speeds, but the upload speeds are cut in half; With a 50mbps synchronous connection, they're getting 50mbps down, but only 25mbps up. I'm hazarding a guess that this is because the SRX is inspecting these traffic types in detail as they exit the device. The SRX 210 data sheet says it is capable of 65mbps IPS performance, but I'm not seeing that. Additionally, the log displays the following messages whenever I run a "speed test": 

802.3ad Link Aggregation serves to bond multiple, individual physical interfaces into a single, logical virtual interface: a "port-channel". The virtual interface of the port-channel controls the traffic across all interfaces which are members of it. Think of the port-channel being the supervisor and the individual interfaces being the employees: the port-channel tells everyone else what to do. Understanding the underlying code and mechanisms that Cisco uses to perform this task is outside the scope of your studies. The following document should suffice: $URL$ 

It looks like this problem is due to the way that HP's networking gear handles ACLs versus Cisco (which is my networking background). According to this document, HP ACLs are stateless, and must contain bidirectional traffic entries (for originating traffic and return traffic): $URL$ (Link to PDF on HP's site). This is in contrast to the Advanced Traffic Management guide above, which displays configuration examples that do not implement or account for this "quirk": the examples contain no such return traffic entries. Lessons Learned: Do not trust manufacturer documentation to be consistent and accurate. 

I'm guessing that the UTM package is somehow putting a strain on the SRX, but I don't know enough about the SRX platform to troubleshoot this properly. Suggestions appreciated. 

What are the differences in features and application scenarios among various serial switches? There is L2/L3 managed Switch, Smart Switch, Easy Smart Switch and Unmanaged Switch in TP-LINK official website, this article will give a brief account about the features and application scenarios of the respective switch. Unmanaged Switch You are not able to configure the unmanaged switch because it doesnâ€™t support any configuration interface or options. It is plug-and-play, so you only need to connect your computer or other network devices to the unmanaged switch directly. Therefore, if you do not need any L2 features, but only need to extend the number of Ethernet ports, unmanaged switch is the right switch for you. Easy Smart Switch You can use Utility or Web interface (Web only for TL-SG1016DE and TL-SG1024DE) to manage easy smart switch and configure basic settings, such as VLAN, QoS and a few L2 features like LAG, IGMP Snooping and Port Mirroring. If there are no advanced applications needed, easy smart switch should be the best choice for you. Normally, easy smart switch will be found in the home, SOHO or small business. Smart Switch Smart switch can be managed by Web interface, Telnet, SSH and SNMP. It supports far more L2 features and better QoS than easy smart switch, additionally, smart switch supports more advanced functions like ACL and Spanning Tree protocol, if you want to support a solution for one small company or colleague with a lower price, the Smart switch is the indispensable device. L2 Managed Switch L2 managed switch has a console port for CLI (Command Line Interface), it has all the managing ways and advanced features that smart switch has, besides, L2 managed switch has abundant VLAN and Multicast features as well as cluster for logical stacking and Network Security features including 802.1X and IP-MAC binding. So you can use L2 managed switch to build a resiliency and availability network or even build up a small ISP Access Network. L3 Managed Switch L2 switch could only work in Layer 2--Data Link Layer of OSI model. But Layer 3 switch has some L3 functions just like a traditional router--static routing, routing protocol like OSPF and ECMP, multicast routing protocol and DHCP relay. Compared with a traditional router, L3 switch has lower cost but better performance in packet routing speed because the layer 3 switch routes packets by its hardware--ASIC instead of CPU, once it learned the IP address, it will forward packets by switching performance. It is mainly used in the core layer of a middle sized business network, providing better hardware switching performance in routing. source: TP-LINK 

Below are the configs (some output suppressed for redundancy / brevity) with relevant portins: CORE SWITCH: 

You must construct your access list(s) in a a fashion which explicitly targets the traffic and / or hosts you wish to permit or deny, in this case, Host 1 and Host 2. Example: 

...this results in clients on the VLAN being able to ping their default gateway, but not the 50.1 gateway. That doesn't make any sense to me - the VLAN 101 IP interface should be considered logically "inside" that VLAN 101, correct? I have tried various versions of this access list, even going so far as to do just a standard access list blocking a single IP yet permitting everything else with a "permit ip any any" statement - and this still results in zero inter or intra-vlan traffic - the host on that VLAN can't even ping its own gateway if I apply the list in the inbound direction (I also tried a variant in the outbound direction - exactly the same result!) Below is the switch configuration: 

I'm having an issue with an ACL on a VLAN interface. I've followed HP's documentation here: $URL$ I want to do the following: VLAN 101 should only be able to communicate to VLAN 50 - no other VLANs, no internet access. Initially, I tried the following access list: 

Short answer: No. Long answer: IP addresses aren't determined by geographical reason insomuch as the geographical region simply might only have a certain block assigned to it. Example: North Korea has a relatively small block of IP addresses, which makes it easy to tell when someone from that country has visited your website. In the case of the USA, France, Germany, South Korea, Japan or others, the number of IP blocks assigned to their ISPs is much greater, so simply glancing at an IP to see if it starts with a certain number won't necessarily guarantee that that entire network is assigned to a single geographical region. With regards to ping times, ping time is determined by a great number of factors, including but not limited to: 

The fix is to granularly apply an IDP policy which applies only to traffic you care a lot about and judiciously choose your applied signatures based upon needs versus performance impact.