ADDITIONAL INFORMATION: Failed to retrieve data for this request. (Microsoft.SqlServer.Management.Sdk.Sfc) For help, click: $URL$ 

that is, update (but not read) operations require space for row versioning should have IMO failed due to lack of space. And why do read ops fail if they do not require version storage in tempdb ? 

Also, a book on SQL Server 2012 I am reading tells me that in such situation I should see (to choose) "SQL Server Database project" template (which is absent in my case) When I launch VS2012 --> choose New Project , I see SQL Server Database project template 

In all cases I was using a domainUser login with sysadmin role for setting SQL Server Agent service and owner of an SQL Server Agent job (or, in the latter, tried also ), Windows Authentication to in used by them maintenance plans. The used domainUser is part of (local) Administrators group in each of the Windows (machines). The SQL Server Management Studio is run . How can I troubleshoot these errors? What should I check and look for? Specifically, I do not quite understand: 

I've tried to set Mater and Target Servers on various cobinations of SQL Servers 2012 R2 on Window Server 2008 R2 and Windows 7 machines but always getting one or 2 of the following errors during setting either target or master server: * 

I have a weekly and nightly SQL Server Agent jobs executing a weekly and nightly maintenance plans, resp. These weekly (on Sunday) and nightly (on other 6 nights of the week) maintenance plans differ only in the 1st task from total consecutive six steps. That is, in nightly/daily maintenance plan the 1st step is "Reorganize Indexes on all User databases" and in weekly/Sunday maintenance plan the first step is "Rebuild Indexes on All User Databases". Is it possible and how to run just one (instead of two) maintenance plan, all 7 nights of week, with condition that on 6 days the 1st step is one (Reorganize Indexes) and on the rest 1 day of week the 1st step is another (Rebuild Indexes) ? 

This uses the fact that the flag column contains either or and sorts before . So, if there are two rows for a given key, the value will be selected, else the value will be selected. 

That's probably clear as mud, but 'unable to load locale categories' probably means that , which defaults to on Unix-like systems (and something like on Windows systems IIRC) is either not set correctly or is pointing somewhere invalid. In particular, locale categories are stored in . That's the easy part; the hard part is knowing what you need to set. Have you checked the SETNET32 setting? Have you checked the OBDC connection configuration? I believe SSRS is a Windows-based system, and I'm by no means a Windows expert, so there's a limit to what I can do to point you in the right direction. But having more detailed information about the error than 'unknown system error' may help you. You could also look at the Informix manuals on the IBM Informix Information Center 12.10 web site. 

You say the directory has permission; does it also have permission. You need permission to access the files in a directory (so you might set the permissions on the directory to ... gritted teeth ... 777, but you shouldn't. Is the directory owned by user and does it belong to group ? Ideally, it should be owned by , and the permissions should be 770 (or ). 

'Tis curious that both this question and the cross-referenced one have anonymous tables — it is one of the common flaws in questions about databases on the Stack Exchange family of sites. 

It looks like one (or more) of the shared memory segments already exists; there wasn't a clean shutdown. Use — it should clean up for you. When you restart, consider using 'verbose' mode: . It will report what it is doing until the server is up and running. 

I have a SQL Server database that is creating full backups once a week, differential backups once a day, and transaction log backups hourly. These are being FTP'd to another box, where I would like an automated system (which I am writing) to pick them up and restore them into a working database. So basically every hour when a new transaction log file comes in, I want to find the appropriate full backup file, differential backup file, and other log txn files for that day use them to restore the database. The issues is that this machine will have several weeks of backup files on it so I need a way to group them together appropriately. What is the best way to do this? When you go into Management Studio and do a database restore, it gives you a listing off all the full, diffs, and logs grouped together so clearly it's storing this grouping data somewhere. I've seen the RESTORE HEADERONLY command, which seems to provide some information but I'm not 100% sure how to use it. It looks like you could make the CheckpointLSN of the full backup to the DatabaseBackupLSN of all the other files, but I'm not totally sure about that. My log files to have date/time stamps in the name but I would rather not rely on parsing file names to group everything together. This article does provide some insights but I would prefer some sanctioned documentation from Microsoft before I embark on a solution. 

I'm looking at restoring databases on SQL Server and I'm not understanding something related to the LSNs. Here is a screenshot from the Restore Database dialog in Management Studio for a sample database I created. 

The will be converted from string to DECIMAL(9,0), but omitting the quotes would be clearer. The quoted expression is just a string; it is not a date-time literal, and cannot be interpreted as one. Frankly, I think you'd do better with: 

One is to try downloading the ILS — International Language Supplement. This has many extra locales in it; it might have (but no promises). Another is to try copying an existing locale (maybe or to . You'd probably want to edit the LANGUAGE and TERRITORY lines. However, be aware that the French and German locales are different; it will matter which you choose. Report a problem to IBM Informix Tech Support, requesting the file for . 

My main concern, regardless of the migration mechanism used, would be for the consistency of the migrated data. How are you going to ensure that you don't miss changes while the data is transferred. One of the classic Informix tools could be DB-Export, which (by default) locks the database so it isn't being changed while the export occurs. It gives you the schematic and unloaded (text) data files. Another option would be to make an archive of the existing system and then restore that into a new (temporary) instance, and you could then run your migration against the temporary instance without affecting the working instance. But you'd still have to worry about later changes. If your existing machine is not too woefully under-powered, you should be OK running the export as you suggested, but you still face the issue of ensuring consistency of the migrated data if users are changing the source system while you are migrating. 

And there can be file transfers, etc, as required in between the unload and reload operations. If you need to truncate the new table before loading, that's a separate operation: 

What is the possible use of owner of an SQL Server Agent job, I wonder? Removed, and left it blank and the job still succeeds 

The rebuild of indexes takes appr. the same 55 min. with both "Do not rebuild indexes and "Rebuild indexes offline" "For index types that do not support index rebuilds" with "Keep index online while reindexing" checked 

Fig.1.1. On launching SQL Server 2012 (i.e. VS2010 Shell)) Data Tools --> New Project and on pressing OK button 

ADDITIONAL INFORMATION: An exception occurred while executing a Transact-SQL statement or batch. (Microsoft.SqlServer.ConnectionInfo) 

Though, I removed any CMS (Central Management Server) instance and still getting the same results over multiple SQL Servers on 2 differing machines 

Invalid class (System.Management) 3) Ensure the agent startup account for 'Master-Server-Name' has rights to login as a target server (if Success here, then 4) is error or both 3) and 4) are errors) 

Online MSDN article "Execute Statements Against Multiple Servers Simultaneously (SQL Server Management Studio)" (SQL Server 2012) states: 

The enlist operation failed (reason: SQLServerAgent Error: Unable to connect to MSX 'Target-Server-Name'.) (Microsoft SQL Server, Error: 22026) For help, click: $URL$ 

In SQL Server 2012 R2 Enterprise, whenever I check Management\Data Collection, right-click --> Configure Management Data Warehouse , I see whatever users-accounts-logins except the one I am logged in I cannot understand what's the point in "Map Logins and Users" in Management\DataCollectiion of SQL Server? 

while executing a rebuild from mentioned article and observe that it is being delayed until index rebuild finished What is blocking and how to avoid it? Update: Microsoft SQL Server 2012 (SP1) - 11.0.3128.0 (X64) Enterprise Evaluation Edition (64-bit) on Windows NT 6.1 (Build 7601: Service Pack 1) 

Incidentally, if the PostgreSQL tools simply export the data from one table and import into another, then that can be done with my SQLCMD program — a program which pre-dates Microsoft's johnny-come-lately program of the same name by over a decade. SQLCMD has two aliases, and . You could use: 

The answer may depend on the DBMS which you're using. However, in the DBMS I'm most familiar with (Informix), when you start a transaction explicitly as shown, I would expect that if there is an error in SP2, then an exception would be raised in SP2, and since there is no exception handling in SP3 either, the error would propagate back to the caller — and the COMMIT in SP3 would not be executed. The caller would need to know that the transaction was started and decide whether to commit or rollback. If the caller didn't make that decision and simply exited, the transaction would be rolled back (because it was never committed explicitly). As a consequence of this, the actions completed by SP1 would not be automatically rolled back, and neither would the actions completed by SP2 (but the SQL operation that triggered the error would be treated as if it was never executed). I observe that the lack of exception handling means that the stored procedure SP3 is not very well written. Since it starts a transaction, it should handle errors and ensure that the transaction is rolled back if an error occurs (or committed if that is deemed to be the better course of action). It should never leave a transaction in flight as there was no transaction in flight when it was called. I believe some other DBMS take the (to my mind) draconian view that once an error has occurred in a transaction, all further operations also fail and the transaction will be rolled back. That seems overly intolerant. If I understand their manuals correctly, it means that if you try to insert a record and find that the record already exists, you can't do an update instead. I hope I misread that book (or that the book was mistaken). But it does emphasize the importance of stipulating the database you're using — different DBMS may have different answers to the same question. 

I was hoping at this point I would be able to get the full grid of restore options containing the diffs and logs inside MSM but it still doesn't want to show up. The paths to the backup file are the exact same on the new server as they were on the server where they were created. It seems like the system should be able to take all the backup files and tell me which ones go together. Is that possible? 

You'll notice that there are two differential backups. If each differential backup contains the data for the transactions of all the previous differential backups, why would the FirstLSN of the second differential backup (22000000041800004) be higher than the FirstLSN of the first differential backup (22000000039800037)? If it covers the same transactions why wouldn't the LSNs overlap? If you look at Microsoft's documentation on this it states 

I can't seem to recreate this on the remote box though. I figure that the other SQL Server probably doesn't have the metadata required to create this list since the backups didn't originate from that box. Is there anyway to restore that meta data as well? I tried restoring msdb but it doesn't seem to help. Here are the steps I'm taking: (1) Restore the master database on the new server. (2) Restore the msdb database on the new server. (3) Restore the full backup of the database on the new server with 

So if I am going to recover the database using the second differential backup, wouldn't it stand to reason that the second differential backup's FirstLSN would start where the full backup left off (22000000038800001)? Restoring the second differential would apply all the transactions that occurred after the full backup was created wouldn't it? I'm not understanding how the system accounts for the LSN gap between the full backup and the second differential. 

Unfortunately, that looks like you're not allowed to use tab either. (Test: Informix 12.10.FC5 on Mac OS X 10.11.6.) Incidentally, I tried some alternatives: (alert, aka Control-G) and (backspace, aka Control-H) are both accepted, but none of (formfeed, aka Control-L), (vertical tab, aka Control-K), (carriage return, aka Control-M) of (newline, aka Control-J) are allowed. Any other control character from through (octal numbers, all except 9-13 decimal, 011-015 octal) seems to be OK (and NUL or 0 being OK did surprise me!). Do you have any tabs in your main data? If not, you could export with one of the acceptable alternative characters and then map that to tab. If you have tabs, life is harder because you'd need to protect any tabs that are in a data field with a backslash. DB-Access allows without problem and produces an unload file with tab delimiters, so the problem is not in the shell code I'm using. If you're certain you must have tabs, then investigate Art Kagel's which is part of his package from the IIUG Software Repository, which also uses my SQLCMD, available from the same source. Using (or , or various other twists of the command line) produces output in a tab-delimited format. (On its own, SQLCMD does not handle a full export; it will cheerfully unload single tables, though. It does not yet handle NUL as a field separator or line separator — a design decision or artefact that I need to review.) 

Using means 'the table called found in the database ', whereas you want to refer to the table owned by user in the current database. For that, you need a (not a ) between the user name (schema name in standard SQL) and the table name. When that's fixed, you get the error: