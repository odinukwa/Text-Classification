Check that you have a script /etc/init.d/supervisor or similar and that there are relevant symlinks in /etc/rc?.d. If not something like 

It is hard to tell without seeing the traceroute between the systems. Also, of course, if there are dialup links involved, it may also be reasonable. Having said that, 566ms is sort of large. I get 510 ms over my Swedish ADSL link to a typical Chinese site, so if your site is a well-connected site in a data-centre in the West, you should probably expect less. For example, from a Swedish data-centre to a US East coast Amazon E2 host, I get less than 100 ms. 

Your mysql server seems to have only something like 128MB pool. If the LAMP system makes use of a fair-sized database, this seems to be on the low side. That would generate a lot of I/O towards disks. Also, if there are CPU spikes on mysql, turn on slow-query logging for a bit and see what shows up. A new index or two might be in order. For a top replacement that can read most of the per-process conuters in a modern kernel, I recommend atop. Among other things, it can show disk access by process. Note that atop has a running daemon as part of its setup, so you may want to uninstall it after you are done. Be careful what CPU usage numbers you trust. They are generated using somewhat different methods. In my experience, to show overall CPU usage, vmstat gives the "best" (== closest to perceived load) numbers. There are apache processes doing serious work. Perhaps some PHP code optimization is in order? 

Your immediate problem is that you declare a default gateway on both entries. I suppose that this will result in whichever comes up last to "win" and be default gateway. However, if you remove the one on eth1, you will have the problem that the box will reply on eth0, even if the packet arrived on eth1. In order to tell the box to reply on a particular interface, you need to do what is commonly referred to as source routing. I have the following set of commands on a box: 

If i understand your question correctly, you want to receive all mail for test@example.com, but none of the mails sent to joe@example.com 

I'm also just shooting blindly here: Maybe ovh has enabled some kind of "network protection" to prevent servers being compromised by brute force attacks. To figure out, try to run run sshd on a different port eg 6022 and see if the problem persists. 

Your issue was solved by rebooting the box. Therefore, we won't be able to determine the root cause of the problem. 

It looks like your dhcp server is broken. According to your question, the dhcp server does not provides the correct gateway to your client. Try setting a static IP adress by ediiting /etc/network/interfaces (you'll find correct syntax on the internet). 

"" Is there a way I can block traffic from china?"" Yes, for example, you can use iptables to blacklist these ip ranges : $URL$ (i just googled china ip block list) 

split-brain occurs when two nodes of a cluster are disconnected. Each node thinks the other one is not working. 

"what happens when server #1 is under such heavy load that he cannot handle the requests properly" Usually clients get "connection timed out" error message. Don't worry about the load balancer : with modern hardware, they can handle thousands of requests, especially if you use cache for static content. Most of the time, the bottlenecks are : 

You can try to type mount -a just after system has booted. If this workaround works, you can set up a script whose content is just something like "sleep 60 && mount -a" and make it executed at boot time (via cron, systemctl or any other mean). It's really dirty, the good solution would be to investigate why some fs does not mount correctly. 

You can use tcptraceroute to guess where port 443 is blocked. tcptraceroute 52.56.123.246 443 should give you the ip adress of the firewall which is blocking requests to port 443 

Yes, this is a bit paranoid, but is typically a faster route to revovery than trying to study the problem and be smart. It seems from OP that this is a mail server. If so, you have an additional problem in that the box may be sending out contaminated mail. I would not release my mail queues until I was absolutely sure it was not being rewritten enroute. 

I would not be so pessimistic as 99%. In some parts of Europe and US, household size is quite small, so If you want to reach singles, you may have a better chance than if you want to reach families (particularly with teenage children). Also, at least one Swedish ISP modem firmwares default to port-forward on the first connected host. But, swayage is still in order, given that the IPv4 trend points strongly towards increased NAT over time. Also note that it is very common for mobile operators to simply block inbound TCP connection attempts. If you have mobile aspirations, all TCP connection initiations need to come from the mobile end. 

There certainly are mail servers out there that will refuse to deliver mail that is sent from .localdomain. It is also impolite to send out mails such that you cannot easily find a domain to send abuse@ to. This only means that the mails should be sent with a proper recipient in the SMTP dialog. If your software does not do this, it will be set by Postfix using myorigin. 

I can now answer one of the questions: it appears that the CERC has no problem with a 1TB SATA disk as long as it is in "Volume" mode. I added a 1TB SATA disk to the controller and initialized it as a "Volume". The disk appears to be fully readable/writable and when moved to a different controller in a different machine, could still be read. UPDATE: In the end, I gave up on the STARDOM JBOD chassis. I never managed to got the CERC to recognize the disks through ESATA connections. 

" node uberlamp3 advertised itself as uberlamp.14.by instead." What happens if you type "hostname" on the client? Have you checked munin client configuration? 

It seems that everything is okay but your telnet command tries to open port 23 and not 10000. ( "connecting to ...could not open connection to the host, on port 23: connect failed") try 

Which user is running mysqld? It is likely that the user who runs mysqld, usually mysql, does not have write access on /home/site/public_html/mysql-logs/ Therefore, it cannot write log files. Try creating a group for both /home/site/public_html owner and mysql, then chmod 0775 directories and chown directories 

It looks like a dns issue. To figure out, try in cmd.exe : ping myhostname It should not work. Then you have two option : 

I have no idea how it works with storcli64, but I just had to replace a raid1 failed drive (slot 0) with megacli64 : 

sender_canonical_maps (default: empty) Optional address mapping lookup tables for envelope and header sender addresses. The table format and lookups are documented in canonical(5). Example: you want to rewrite the SENDER address "user@ugly.domain" to "user@pretty.domain", while still being able to send mail to the RECIPIENT address "user@ugly.domain". Note: $sender_canonical_maps is processed before $canonical_maps. Example: sender_canonical_maps = hash:/etc/postfix/sender_canonical Source : $URL$ 

What is the best way to set up automatic backup for switch FC configuration? I have searched the web and came across $URL$ , but it looks like it runs on windows and hasn't been updated since 2009. We have multiple brocade switch FC and would like to be able to save their configurations. The firmware version is often different. Even sometimes we have other vendors. Any help appreciated, thanks in advance. 

There is another solution to your problem. Instead of making wget convert those links to the new domain name, you can make your webserver rewrite links on the fly. with apache, you can use mod_sed to rewrite links. eg : 

MySQL failed to start. The reason this occurred should be logged in /var/log/mysql.log (or is it still /var/lib/mysql/.err?). Can you paste the output from there, and maybe we can figure out what went wrong. 

Trying to find the offender by looking at the volume of traffic over time is likely to be too late. Remember that a user expect web responses in seconds. Limiting a user by analyzing the traffic flow is likely to be too apply the limit long after the browsing user has given up. There are some things you can do with iptables (see e.g. hashlimit) but your users will probably notice the slowdown anyway. If you want to make sure that everyone gets a share, you need to play with prioritizing traffic. See the tc command. For an easier time, I recommend tcng. No matter which method you use, you will need some criteria to differentiate "bad" traffic from "good" traffic (other than quantity). However, my experience is that well-behaved routers (be they linux boxen or enterprise-level routers) nearly always do a reasonable job of prioritizing traffic such that you don't get a total breakdown like OP describes. Before trying to do fancy stuff, I would try to see if there is some badly configured or designed hardware on the network. My presumption of guilt falls on ADSL routers, old Cisco PIX routers and cheap switches. 

With the caveat that I don't know much about kvm, I would guess that the partition is a full disk image. If that is the case, you should get a meaningful partition table if you do: 

I suppose what you want is to make sure that there is no "positive" response on any port apart from a short whitelist. I can see how you would prefer not to have 65000 check_tcp:s on each host :) Mind you, I'm not sure nagios is really your best bet for this. Partly, it risks being a test that is always red and also, if you are serious about it, you should not limit the check to hosts that you actually know about. This sits awkwardly with Nagios which expects a host as the basic unit of configuration. Personally, I would probably have a separate tool that mailed me when something new shows up. In its most trivial form, this would be just a script that reacted to a non-zero diff of nmap output between today and yesterday and mailed me. In more complex form, such software tend to be sorted as IDSes which are not my expertise, but Google may be able to help. 

Howerver, it is likely to log both to syslog and a logfile. If so, you can keep on playing with configuration file to achieve your goal... Hope this helps 

apt-get install libssl-dev You must install openssl development files in order to compile php $URL$ Also, once you compile php successfully, don't forget to change apache module to the right directory for php.so There must be a line looking line LoadModule php7_module modules/libphp7.so in apache configuration 

You have to recompile ioncube or reinstall it correctly. To have a hint about whet went wrong or what dependency is missing, just type ldd /usr/lib64/php/modules/ioncube_loader_lin_5.6.so 

"I think there should be one if there's a local one in ~/.inputrc" According to documentation, this assumption is wrong. You can have ~/.inputrc for some users without the file /etc/inputrc. Even worse, /etc/inputrc is read only if there is no .inputrc for a user. Therefore, if you want to use global settings for all bash users, you have to : 

"Only option left after reading quite a number of forum is to make the ssh key same on all the server. " I think there is another option : you can use ssh certificates. 

According to your firewall logs, you've forgotten to allow dns queries. Allow port 53 udp and your setup will work better ! 

"OpenSSH 7.0 and greater similarly disable the ssh-dss (DSA) public key algorithm. It too is weak and we recommend against its use." Source : $URL$ 

Depending on your monitoring system, you should be able to write a script that parses the output of ifconfig and displays an alert if the number of errors of dropped packets is too high. 

027 is better from security perspective. Even better is to use 077 for root. With 027 mask, when root creates a file, it can be read and executed by users who belongs to the group of the file. With 077 mask, only root can read write and execute files. Why is 077 better? 

screen uses various terminal commands, so it places requirements on the terminal emulator you use to connect. A stupid terminal emulator may not cut it. screen is more bandwidth-intensive than an ordinary shell, mostly because switching between screens will redraw the whole screen. This may make a difference if your serial terminal is something like 9600 baud. 

Many applications can log to syslog, which means you can get the logs to a log server. apache, mysql, tomcat (log4j) can, at least. Then you need a competent syslog server to do the aggregation. I use syslog-ng, but that's because it was the only serious alternative 7 years ago. Debian Lenny switched to rsyslog, which probably has a saner codebase and even more features. In my experience, a good regex engine is the most important part of an aggregating syslog server. There is so much gorp you want to filter out so you can see the relevant parts. You can also point logwatch at the aggregated logs if you want to get started quickly. EDIT: I should be explicit. Our strategy is to log everything from a specific host to one or more files in a folder for that host and simultaneously log to heavily filtered files that logs certain activities across all hosts. For example, there may be a file with failed logins across all hosts. 

in the below examples is the IPv6 address from the 2002: prefix reserved for legacy addresses, which can be found with "ipv6calc --ipv4_to_6to4addr ". radvd will do router advertisements on LAN side, telling all IPv6-capable hosts how to configure their IPv6 addresses. A typical radvd.conf may look like this: 

If you have full access to the server box, the best thing you can do is to check that traffic from the client arrives from the correct interface. Something like: