for tunnel interfaces networks, (we are) as usually, uses 172.16.0.0 network, with same rule: 172.16.N.0/30 - left side of the ring(or main uplink) 172.16.N.5 - right side of the ring(or reserve uplink) if you have more than 255 branches, than you just need to use binary calculation, and you will get much more economical utilisation of address space(say if you need formula, i can provide it for you). imho, this is good way, because you always know, in one look, what branch network, what branch vlan and what tunnel you are looking. 

@PHLiGHT, hello there! your cisco 861, imho, has overloaded by ingress traffic. Lets look on your cisco iface counters: 

All this operations are uses CPU, which is shared by another OS proccesses, this is an important. So what is typical switch? Switch, as usual, have multiple (!)different type(!) processors: 

There is no significant reasons to use different vlan in your situation, but, some vendors(cisco at least) recommends to use this way: for example, we have N branches, and we need four routed broadcast domains(LAN) on each, let`s calculate them: branch1 = 1 branch2 = 2 ... branchN = N 

syntethic task ;-) STUN can be used only with "full cone NAT, restricted cone NAT, and port restricted cone NAT"… but not with symmetric NAT. STUN is the protocol for clients, but clients, as usually, in real world are using symmetric NAT(unique port for any connection, dynamic translation)! In the real world servers are using full-cone NAT(static translation), and servers, as usually, gets connections from clients, which are already know ip:port… However, formal answer: most "frequent" using of STUN it is sip client to server keepalive(udp), but there are also other usages: $URL$ 

Because STUN(external server), cant know which port will be given to the client by NAT-device. In symmetric NAT, client gets unique port(ip:port in pool situation) on each connection 

So, when switch forwards frame, it is uses just ASIC, and in theory, CPU can be overloaded, but switching will works fine. ASICs and CPU are separated, ASICs even haves own superfast memory(CPU have typical RAM). When you are send configuration command to your switch oven ssh\telnet, CPU recieve commands from ssh\telnet process, and send them to the ASICs. Switches architecture is very complex, and it is vendor-specific, IMHO, modern switch this is true-engineering-excellence. 

thanks for your help with this. I have implemented the following, and it is kind of working, at least with the test machines I am using. I have set up pretty much what I think you described @PSaul. I have set port X6 on each firewall to a new zone (Interoffice, Trusted) and given them a static IP, 10.0.0.1/30 and 10.0.0.2/30. I then set up a route (as you described @PSaul) on each firewall that sends any traffic going to the other subnet to the X6 IP address on the far ends firewall, and send it through the local X6 port. The ISP had set the interoffice link (between their two routers as a Layer 2 connection, so was sending everything across. I found I was getting DHCP traffic across the networks, so not sure what I have in the network that is helping it traverse the subnets. I have not disabled the VPN yet, and have just set this up for test machines with a very low metric, so they are using this link before the VPN (I like that). I have not sent all traffic over the link yet, as I have one weird thing, but maybe a different question. I get nice fast traffic in one direction, but traffic in the opposite direction is about 1/3 the speed pretty consistently. It doesn't quite look like traffic shaping, but something odd going on. Well, I learnt more so that's good. Thanks for your help. Just need to figure out the issue with the speed in one direction. 

I currently admin a small network, it has two separate sites (site1 site2). Each site has independent internet, and a Sonic NSA 220 Firewall. There is currently VPN connecting the two Sonic firewalls, so the sites can communicate without any issues. Our ISP has just installed a 'router' at each site (ISP Router 1 & 2), so it now presents two ports...Internet Port (ISP-WAN) and a inter-site port (ISP-LAN). This is so we can eliminate the VPN, and route traffic direct through the ISP cloud (ISP-LAN) I am wanting to know how to set up the ports routing, so I can tell the firewall to route internal traffic through this new ISP-LAN port. Each site has a DC (same domain) and a separate DHCP (sites have different IP ranges). I was thinking I could connect port X6 on each firewall to the ISP-LAN port, this would connect the two sites (Blue Line), but not sure how to configure the routing/rules. Everything has the Sonic WAN port as its default gateway. I don't want the DHCP traffic etc broadcasting between sites. 

ps very strange is to see 76 runts, as usually, it caused by collisions(can be only in simplex mode), but in config we have "duplex full". imho, clean counters, do not change duplex mode, wait some time, runts are shouldnt increase. pps i guess, this situiatuion cant cause serious problems, because you have "only" 1 error on each ~500000 packets, it is not too bad in most cases, really ;-) 

But, I`ve disabled usage of logged user creds. So, if user creds are correct, i have this message in /var/log/freeradius/radius.log 

Matt, good question! Bridge and switch are almost same things. Bridge, now(in 2014 ;-), is a basic function of the ever modern OS, so this is software. Lets look on bridge architecture(bridge operations are described in ieee 802.1D), bridge must have: 

Is it possible to do that without VLANs ? yes, but why, you have good switch?! ;-) How should be configured MikroTik WiFi router ? In what mode the WiFi router should work ? If your switch is in default config, then you just need to connect wifi-router ethernet1 port to the switch. This will be "wan" for wifi-router, add address to this interface for. example 192.168.1.254, set gateway 192.168.1.1. It will works. If you want to limit connections from 192.168.2.0 to 192.168.1.0, set acl on mikrotik. But, if you want, to permit 192.168.1.0 to 192.168.2.0 and deny 192.168.2.0 to 192.168.1.0, both, you need: 

forwarding proccess, forwards frames. learning proccess, writes incoming frames source addresses to the fitering database filtering database, holds info about what host can be found behind what interface, used by forwarding proccess. 

Alex, hеllo there! Ive builded test environmet for you, so i am using freeradius 2.1.12+dfsg-1.2 (on debian), and switch hp 2650. Ive just repeated your config, and have no problems with this. My test procurve ip 10.0.10.29, test freeradius ip 192.168.2.60. procurve config: 

It depends on your device model. For instance CE (cloud engine) switches, AR and N40 routers are supporting OPS technology (Open Programming System). OPS is quite similar to Cisco EEM and, in addition, it might be able to process python scripts. Hope this helps. 

I have just replaced our Sonicwall NSA 220 with a Sonicwall NSA 2600. Initially everything seemed to be working fine. But after about 28hours I lost contact with the Firewall, only pings remained. My monitoring showed all HTTP, HTTPS, SNMP probes stopped at the same time, and the pings went from about 1ms to about 25ms at the exact same time. The Firewall still seems to be functioning, traffic is still going through it, VPN between this firewall and our second office is functioning. I have 3 active ports on the firewall: X0 = LAN x.x.0.1/21 X1 = WAN x.x.12.2/28 MGMT = 192.168.168.168/24 I am unable to get to the web interface on any of these ports. Was able to access HTTPS interface on each of these ports before the 'issue'. I initially put the previous firewall back into place, taking the NSA2600 out of the loop. I was able to check all the settings on the NSA2600 after rebooting it. I noticed one issue on my network that needed to be corrected. One of my second tier switches was the root, so I adjusted it so our main switch (that connects to the firewall X0) was the root switch. I then put the NSA2600 back in to replace the NSA220 and once again, everything seemed fine. Today at 4am, the same issue. This is after 5 days of live activity. This feels like some kind of routing issue, but not sure how to find out if that is the case. So right now I have a firewall I cant connect to. That's not 100% true, I am able to telnet to it, but am not very familiar at this method, so feel I will do more damage than good digging in there. I am waiting to end of business day, and will reboot the firewall, and anticipate this will probably resolve the issue. But I then expect this to continue to happen. I would appreciate any help in troubleshooting this issue. Thanks