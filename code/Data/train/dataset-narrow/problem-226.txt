Instead of OSPF, you could use another routing protocol, or use static routes, which do not scale. The host gateways, including the switch, should be set to the switch VLAN address for the correct VLAN. 

The time on the real-time clock of a network device has no bearing on its functionality, except for certain instances like using ACLs that only take effect during specific time periods. Standard switching is not affected by the time set on a switch. 

Yes, TDM technologies are old, but they are ubiquitous. The telcos would love to move everyone to IP, and they are working toward that goal. There are telco customers who are comfortable with the old way of doing things, but as the cost disparity increases, even those customers will likely decide to come into the new world. That requires a capital layout for both the telcos and the customers. The real problem is that TDM circuits are available everywhere, and it takes time and money to get IP-based circuits installed everywhere. Many times, the IP-based circuits that, you as the consumer see as fiber, are actually delivered by the telco as OCx circuits to a conversion box. You, the customer, only see then end result of the IP-based circuit. This is a temporary situation while the telcos work toward their goal. FYI Edit: One big problem we have discovered with ethernet delivered from the carriers is that when the link is actually down, the port still shows up because it is from the carrier equipment to our equipment. This hasn't really been a problem with leased or owned fiber, only with what we use to connect to to a carrier. In the case of Metro Ethernet, we can mitigate the problem by using devices on each end of the link that support BFD which will drop the link, from the the routing protocol's perspective, far sooner than the routing protocol will determine the neighbor is down. It is still an irritant. In the case where the actual circuit is delivered via TDM to a conversion box, we have declined to use the ethernet option becasue, so far, every time the TDM circuit is down, the ethernet shows up. All the carriers have promised to fix this problem with newer, different equipmet, but there is no real resolution, so far. BFD is not really an option to mitigate this case since the other end of the link is the PE, and the carriers don't play BFD with us. 

First, understand that your gateway/router is just another host on your LAN, and it learns MAC addresses the same way as the other hosts. It just happens to be the host that knows how to reach other LANs, and the other hosts will be configured to send traffic for other LANs to it. Hosts, including your gateway/router, maintain an ARP table that associates MAC addresses to IP addresses. Since just about every host will send traffic to your gateway/router, it will learn the MAC addresses of the other hosts in that way. Next, switches do not care about ARP, or anything to do with IP addressing. A switch will build a MAC address table from the frames entering the switch, which associates MAC addresses and switch interfaces (not IP addresses). This allows the switch to deliver frames destined to a MAC address to a particular switch interface, instead of sending them to all the switch interfaces, but the switch doesn't know or care about the IP address. Switches can deliver frames to hosts, regardless of the layer-3 packets (IPv4, IPX, IPv6, AppleTalk, etc.) carried in the layer-2 frames. Hosts will learn the MAC addresses of other hosts from ARP requests, which are broadcast (sent to all the switch interfaces), but since ARP replies are unicast (sent only to a single switch interface), the other hosts will not see the ARP replies to learn from the reply. RFC 826, An Ethernet Address Resolution Protocol -- or -- Converting Network Protocol Addresses has the basics of how ARP works, but the host OSes (off-topic here) can have some variations in implementation. 

The first six octets are the destination address. Your example has the broadcast destination address. The next six bytes are the source address. In your example: . The next sequence of bytes can be confusing. If the next two bytes are you have a four-byte 802.1Q VLAN tag. Otherwise, the two bytes represent the EtherType or length. if the two bytes are or greater, they are the EtherType, otherwise it is the payload length If there is an 802.1Q tag, it will be inserted here, and it will be four bytes long. Your example has so the EtherType is ARP, meaning this is an ARP request. After that, you have the payload, followed by a four-byte Frame Check Sequence. There are many sources for this information, just search for . 

Many PBXes use software and have computers and network interfaces built in. Also, there are both analog and digital PBXes, as well as VoIP PBXes. Analog and proprietary digital PBXes are circuit switched, so the PBX know which phone is which by the circuit to which it is connected, they same way the telco knows which line is yours. 

This was a problem when 1 Gb NICs first came out. Servers could only get about 400 Mb of throughput on a 1 Gb network because the server bus wasn't fast enough to get 1 Gb. It was still four times better than 100 Mb, even if it couldn't use the full bandwidth of the NIC. The bus used in PCs and servers has caught up with 1 Gb NICs, and there are newer bus speeds popping up every few years. It would be wrong to say it is of no use if the bus is too slow to take full advantage of the NIC speed since it can still be faster than a slower NIC. 

There are multiple ways to do this. The other ASes could be sending a default route, or the router in AS100 could just have a default route configured. The other ASes could just advertise their own routes through BGP. The other ASes could advertise full BGP routes to AS100. BGP has many factors which could play into the decision of which way to switch traffic destined to another AS. This is the subject of entire books, and it is beyond the scope of this site. It is far more complicated than IGP routing protocols, and it may involve many steps to determine the best path. Often is just boils down to how many AS hops away it is to get to the other AS. You may be confused about the role of iBGP. The distinction of iBGP and eBGP is whether or not the neighbor is in the same AS. An AS will almost always have more routers than just the routers connecting to other ASes. The routers internal to the AS would have the same AS number as their neighbors, so they would use iBGP. It would also be a huge discussion about how design within an AS. Again, you could have default routes, full or partial routing tables, a combination, etc., or a mix of IGP and iBGP (which is involved because you could use a full-mesh, route reflectors, confederations, etc.). What BGP neighbors send each other can be controlled. It could be full routing tables, or it could be whatever the AS owner decides is appropriate. there is no one answer to this question. 

When a switch receives a frame, it updates its MAC address table with the source MAC address and the port on which it received the frame. If the destination MAC address isn't in its MAC address table (unknown unicast), it floods the frame to all ports, except the port on which the frame was received. 

First lets clear up a few misconceptions. Corporate networks do not necessarily use NAT. If they do use NAT, it is not necessarily symmetric NAT. There are many different corporate network designs. Many corporations own large blocks of public addresses which are used for services facing the public Internet. Some corporations use things like MPLS VPNs to connect sites within the corporation or to other, partner businesses. The VoIP application and server type you use needs to work with the network designs, and there are many network designs. This is too large a subject to be discussed here. You may, or may not, need TURN or STUN. That depends on the VoIP application used and the network design. In your example drawing, a very likely scenario is that A and B would establish a VPN across the public Internet to allow things like VoIP to communicate seamlessly. This is especially true for sites within the same corporation. If these are two separate companies, it is more likely that each has VoIP connecting to the public telephone system through SIP trunks, and will connect calls to the other company that way. Some companies need closer ties, and they will use a VPN to provide connection across the public Internet. 

Don't confuse layer-2 and layer-3. Ethernet flow control is a poorly-supported, layer-2 control for layer-2 frames, and it tries to prevent the tiny switch buffers from filling. QoS is a layer-3 control that can be used to police, queue, shape, etc. layer-3 packets. There is nothing to prevent you from using both at the same time. 

Routes with different prefix lengths are really different routes so they end up in the routing table. The route with the longest prefix will be used for the routing decision. Metrics are used by a routing protocol to determine the best route to be offered as a candidate to the routing table. Administrative distance will be used by the routing table as the tie-breaker for candidate routes offered by the routing protocols. The various routing protocols keep or discard routes for the routing protocol's table (not the same as the routing table) based on the rules for the particular routing protocol. Different routing protocols handle ties and load balancing differently. As I recall, EIGRP will, by Default, load balance across up to four routes, but that can be modified. Other routing protocols have different rules for load balancing, or not. 

Answer to your new question (please, do not change your question after you have answers to the original question): 

The odds of the telephone cabling working are very small. First, standard telephone cabling is Category-3 that would top out at 10 Mb. Likely, it only has one or two pairs in the cable, but gigabit requires all four pairs. Tolerances for anything over 10Base-T are pretty tight, and standard telephone cabling is just not designed for network use above 10 Mb. 

You need to coordinate this with your ISP. Cisco has some documents, such as REMOTELY TRIGGERED BLACK HOLE FILTERING, which may help you understand what you need to coordinate with your ISP, and how to configure what you agree on. 

When a host sends traffic destined for a different network, it sends it to it configured gateway (usually a router), which is the host on a LAN that knows how to forward the traffic toward the destination network. A host will compare its network with the destination network by masking the source and destination addresses on the layer-3 packet to see if they are on the same network. If the source and destination addresses on the layer-3 packet are in the same network, the host will encapsulate the the layer-3 packet in a layer-2 frame with the address of the destination host. If the networks are different, when the host will encapsulate the layer-3 packet in a layer-2 frame with the layer-2 address of its configured gateway. That means that traffic sent to a different layer-3 network will be sent directly to the gateway, not the destination host. In order for you to send traffic from one network to a different network, you need a router that knows how to get to each network. 

That would actually be non-standard. You do cross the fibers. According to the ANSI/TIA/EIA 568, Commercial Building Telecommunications Cabling Standard, you are to connect the fibers as a crossover: 

Switches operate at layer-2, e.g. ethernet, and they don't get involved with layer-3, e.g. IPv4, IPX, IPv6, AppleTalk, etc. This allows switches to switch traffic at layer-2 for any layer-3 protocol. ARP is used by hosts to translate a layer-3 address to a layer-2 (MAC) address, so switches don't use ARP, nor are they even aware of the layer-3 addressing. If a host doesn't have the layer-2 address for a particular layer-3 address in its ARP table, it will use ARP (broadcast) to discover the layer-2 address for that layer-3 address. A switch has a MAC address table, not an ARP table like the hosts (except where it is a host for management purposes, but that has nothing to do with the switching function). While an ARP table can look up a layer-2 address from a layer-3 address, a switch MAC address table will look up a switch interface from a layer-2 address. Many people get this wrong. If a switch doesn't have a layer-2 address in its MAC address table, then it will flood the frame to all interfaces, except the one where it entered the switch. Switches will broadcast any frame with the broadcast layer-2 address to all switch interfaces, except the one where the frame entered the switch. Multicast, at layer-2, where switches operate, is a form of broadcast, and multicast frames are treated like broadcasts. This has been mitigated by IGMP snooping in many new switches. This allows a switch to snoop on the IGMP requests by hosts to a multicast router. A switch with IGMP snooping enabled will learn and build a table of which interfaces have requested to join which IGMP groups, and it will only send traffic to those interfaces for that multicast group. None of the switch behavior has anything to do with ARP or ARP tables in hosts. 

You don't. An AS is an Autonomous System. You have control of your AS, but you do not control any other AS, just as you do not want someone else to have control of your AS. How other ASes route your traffic is basically none of your business. You can give hints to a neighboring AS with MED for which interface traffic to your AS should take, but that only works if the AS administrator agrees, and only if you have multiple connections to that AS. You can also advertise prefixes with prepended ASes, but other ASes are free to ignore that too. You can also enter into business agreements with your neighboring ASes, but those agreements do not affect other ASes in the public Internet. You don't want anyone else telling you how to route traffic in your AS, and neither do the administrators of other ASes. 

The MAC addresses are the physical addresses for protocols that use MAC addresses, e.g. ethernet. The source and destination MAC addresses are used in the Data-Link frame header for protocols that use MAC addresses. IP (both IPv4 and IPv6) addresses are Network Layer addresses that are used in the Network Layer packet header. When a layer-3 packet is being sent, it must be encapsulated by a layer-2 frame. If the layer-2 protocol uses MAC addresses, it uses ARP (Address Resolution Protocol) to resolve the layer-3 address to a layer-2 address. If the destination host is on the same network as the source host, then the source host will use ARP to get the destination layer-2 address. If the destination host is on a different network, the source host will use ARP to get the layer-2 address of its configured gateway. The layer-2 frame will be addressed with the destination layer-2 address of either the destination host (same network) or the source host's configured gateway (different network). ARP basically sends a LAN broadcast asking every host on the LAN, "Who has the layer-2 address for this layer-3 address?" The host with the layer-3 address will reply with its layer-2 address. The host asking this will then save the layer-3 to layer-2 resolution in an ARP cache so that it doesn't need to ask the next time. Entries in the ARP cache will eventually time out and be purged. They can also change based on traffic the host sees.