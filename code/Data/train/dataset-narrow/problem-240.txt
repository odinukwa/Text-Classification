I have typically known 'flat network' to be a non-vlan network, typically a single /24. We have a new hire (security analyst) at my company and he asked the desktop support supervisor if he had "trouble getting your job done on this flat network". I'm a bit unsure how he means this, unless he is referring to it being a layer 2 domain as opposed to a routed site. Currently the site in question is multiple vlans, each in it's own /24 with the site as a /16. It's all L2, except for intervlan routing in the core. Am I wrong in my usage of 'flat network', or am I missing something here? 

The short answer here is that the default gateway is the local router that gets traffic to other networks. It is the default way to get off of your network. Remember, routers connect networks and switches create networks. If you are off on another (non-Vlan1) network, you must route the traffic. For instance, your home LAN (x.x.x.x) and your ISP network (y.y.y.y) have a router to connect them (commonly called a cable modem). 

I have inherited a network. I have 12 separate sites, all of which have at least 10 vlans. Each site is it's own VTP domain. I have an MPLS ethernet handoff into a switch at each site. From each switch, I have trunks distributing vlans to the other access switches.I have some switches where all vlans are distributed but I have no member ports. If I understand the concept correctly, if I have vlans on switch A and B, but no member ports on C, VTP pruning removes the unneeded vlans from C thus reducing bandwidth usage on the trunks. The actual question is: do I have any reason NOT to use VTP Pruning? 

Let me start by saying that I am not looking to load balance between 2 ISPs. I have a site where we get an MPLS ethernet handoff from our ISP. For some reason, our marketing dept. gave a contract company the green light to have their own service dropped in to support a contractor for the next 2 years. I'm still fighting to get my supervisor to shut this down and just let the contractor run on our network as we currently do, but I need to have a solution in hand in case I can't win this battle. What I am thinking of doing is running their internet connection into my switch stack in order to get from MPOE to contractor cubicles. (company will not pay for cabling) I obviously need a separate IP scope for this VLAN. My thoughts on this are that I should be able to make it work with a unique IP scope, a static route and maybe a couple of ACLs. Short version:new network on my equipment, separate ISP/gateway, unique IP scope, new vlan, no intervlan routing. 

I'm running a pair of 5596Ts as a vPC pair. These make up the core in our DC, all L3 is handled here (daughter card installed), all subnet gateways live here, using HSRP across them all. Our current licensing is lan base. I have a project which requires the use of PBR, so I need to upgrade to N55_LAN1K9 licensing, which we have purchased for both switches. What I cannot seem to get an answer on, is will I need to reload after I install the licensing? It seems that I can enable PBR (and other features) without dropping traffic or needing/causing a reload, but I can't find a definitive answer anywhere. I've read through the licensing docs from Cisco but again I didn't see anything clearly stating yes or no. $URL$ On a similar note, can I safely assume that all features can be added without dropping traffic or otherwise impacting performance? 

If you really want to terminate MPLS in vSwitches (I wouldn't do it for numerous reasons, some of them here $URL$ and here $URL$ look @ Juniper's Contrail acquisition, they actually do that with BGP between controller and external routers and XMPP between hypervisor and controller. Here's the description of Contrail solution from NFD: $URL$ 

As other people have already pointed out, the only semi-sane design is to configure static routes pointing to (or across) the non-OSPF device at the edge OSPF device and redistribute them into OSPF. Configuring static routes on other OSPF devices would be a nightmare. Now, assuming the non-OSPF device is totally IGP-clueless (it cannot run RIP or EIGRP, for example), there are two ways to make the routing at least a bit more dynamic (to detect failures in the IGP-clueless device, for example): 

Dark fiber and LAG across the two links. VPLS won't work on 4500. Disable STP on the DCI link (and make sure nobody ever reconnects the cables the wrong way) or use MST with each DC as a region (you don't want STP events in one DC to spill over into the other). In theory you could use Metro Ethernet services, but if they don't pass LACP and STP transparently, you're in a total mess (read: don't even try). #Rant On Also, please note that there is no safe way to stretch layer-2 networks. Layer-2 network is a single failure domain - you get a loop somewhere, everything gets affected. You can limit the damage by using storm control, but then you're killing the good packets with the bad. Finally, think about routing and connectivity implications if the link between the two data centers fails completely. #Rant off 

So: access list = packet filter. Later (but still decades ago) people started running multiple routing protocols on the same box and wanted to redistribute information between them. Not a problem, but you wouldn't want ALL the information you have propagated into the other routing protocol - you need ROUTE FILTERS. As is usually the case, everything looks like a nail if you happen to have a hammer, and thus Cisco's engineers implemented route filters with the object they already had - access lists. At this point: access list = packet filter (and sometimes route filter) With the advent of classless routing (yeah, it's that long ago - does anyone still remember the days of Class A, Class B and Class C addresses), people wanted to redistribute prefixes of certain size between routing protocols. For example: advertise all /24s from OSPF into BGP, but not the /32s. Impossible to do with access lists. Time for a new kludge: let's use extended access list and let's pretend the source IP address in the packet filter represents network address (actually prefix address) and the destination IP address in the same line of the packet filter represents subnet mask. This far: access lists = packet filters. Simple access lists also serve as route filters (matching only on network addresses) and extended access lists serve as route filters matching addresses and subnet masks. Fortunately someone retained a shred of reason at that time and started wondering what exactly the brilliant minds that decided reusing extended ACLs for route filters makes sense were smoking when they got that brilliant idea. End result: Cisco IOS got prefix lists, which are (almost) identical in functionality to extended access lists acting as route filters, but displayed in a format that a regular human being has a chance of understanding. Today: use access lists for packet filters and prefix lists for route filters. You can still use access lists as route filters but don't do it. Makes sense? 

So there is at the moment ZERO inter-vendor interoperability. And as others said - if someone held a gun to my head and told me to do L2 DCI, I would try to use OTV first (it's also available on ASR 1K), failing that, TRILL would be second least horrible option. 

In the event of all things equal and the routing process supports it, equal-cost load balancing will occur. Exactly how the router handles the load-balancing depends on your configuration, version of IOS and potentially your router platform. Cisco dives into the matter with the following documents. 

By default, the router will install the route learned via EIGRP into the routing table. This is because EIGRP has a lower Administrative Distance than OSPF. It should also be noted that both learned routes will remain in their respective routing processes. Thus, the router knows about both but will only select one route when routing. Routers select routes in the following order: 

There is another feature of to consider: External Routes. One trick I have used to influence EIGRP Primary and Secondary paths over DMVPN is to use a dedicated EIGRP AS for the secondary path and then redistribute it into the primary AS. Redistributed routes will be injected into the EIGRP process as External Routes. Externals Routes will have an AD (Administrative Distance) of 190 by default and therefore be less preferred. This is not always optimal nor can it always be applied in all use-cases but it is something to consider. 

There are a few strategies to deploying AnyConnect. The Cisco AnyConnect Secure Mobility Client Administrator Guide, Release 4.4 describes them in detail including client prerequisites and configurations. 

You can only deactivate Time-Based Keys as per the Cisco Documentation. The permanent key must be replaced with another permanent key with fewer features. 

The simplest solution would be to add a dynamic routing protocol such as , or . Then raise the Administrative Distance of the static routes so the dynamically learned routes are preferred. These static routes with the higher administrative distance become floating static routes. 

The author of your reference article does not appear to fully understand or clearly illustrate the relationship of Bandwidth/Latency. 

Interface F0/0 and F0/1 on R1 are misconfigured. R1 interface F0/0 is configured for instead of . R1 interface F0/1 is configured for instead of . I recommend either "swapping" your cables or re-IP addressing your interfaces. 

Cisco has a large listing of Syslog Messages and Severity level here: Syslog Messages This list includes Syslog Messages for the following: 

Depending on your use-case, a simple work-around could be to use VPCs or the pre-built Ubuntu Docker appliance as hosts instead. 

What does it look like in the routing table? The following is an example output of EIGRP speaking routers with an equal-cost route for : 

While you may not be able to tell whether queues are explicitly being congested from the reports, you are often able to tell whether tags are being properly applied and honored. 

Prefix Length - The longest-matching route is preferred first. Prefix length trumps all other route attributes. Administrative Distance - In the event there are multiple routes to a destination with the same prefix length, the route learned by the protocol with the lowest administrative distance is preferred. Metric - In the event there are multiple routes learned by the same protocol with same prefix length, the route with the lowest metric is preferred. (If two or more of these routes have equal metrics, load balancing across them may occur.) 

Note that by themselves, VLANs do not enhance security. They simply limit broadcast domains. If the world was only as big as your diagram above, sure, traffic would always be isolated within a single VLAN. In the real world, traffic needs to be routed in order to be useful. You must control traffic between the VLANs with a layer-3 aware device such as a layer-3 switch, router or firewall. 

By default, an ASA will not include VPN-tunneled routes into the routing table. Since they are not technically in the routing table, BGP cannot advertise them with a statement. Setting a Reverse-Route allows the route to be injected into the routing table. It is enable in the crypto map portion of the VPN. Example: