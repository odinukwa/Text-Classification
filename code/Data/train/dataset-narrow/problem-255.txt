If, for instance, the second IP address was 192.168.2.20, it would not work since you would be on two different networks from the perspective of the first one, and it would try to send to its configured gateway instead of the other host: 

The OSI model is a theoretical representation or guideline. The real world is often very different. You are not going to get an answer that doesn't change depending on the circumstances. A lot depends on the OS itself since different OSes do things differently. It is easy to relate some of the layers to different parts of a computer (e.g. the physical layer as the NIC, but even that doesn't encompass the entirety of layer-1). Layer-7 looks easy as the actual application application, but it is often more complicated than that; sometimes the OS itself or some add-on is the ultimate layer-7 source/destination. Many times, the lines between the OSI layers are blurred, or multiple layers are encompassed in one. Sometimes things have a foot in one layer while operating in a different layer. 

You can use the command on a switch to show the VTP password you used on the switch. Do this on switches that do work, then on the switch which doesn't work, and you will probably discover that it doesn't exactly match. You can copy it on a working switch, then paste it in the non-working switch. 

You don't have NAT correctly configured. You have the outside NAT applied to an interface () which has no assigned network, and on which no traffic will be routed. I think you are trying to set all the subinterfaces as outside NAT interfaces, but I don't see much of a reason to NAT on all the subinterfaces, which you must do individually. The interface is the only one with a public IPv4 address, so it makes sense to have it as an outside NAT interface, but I don't see a reason to have the other subinterfaces using NAT unless they are inside interfaces. The router will route between all the interfaces, as long as you have configured. If you do want all the subinterfaces to be outside NAT interfaces, then you need to do something like this: 

You should never do something like you intend. OSP (Outside Plant) cabling is a specialty that many cable installers do not do because there are some serious life/safety implications. For example, grounding and bonding. You need an electrician to make sure that the OSP cable is properly grounded and bonded, and has proper lightning protection. Also, underground cable needs to be gel-filled, loose-tube cable, and armored if it directly buried. It must be buried at least 24", or below the frost line, to the top of the cable or conduit whichever is deeper. OSP cabling is something that you should really leave to professionals because you can expose yourself to serious civil and possibly criminal problems in the case of some type of disaster, e.g. a fire. 

Network classes are dead, killed in 1993 by RFCs 1518 and 1519, which defined CIDR (Classless Inter-Domain Routing). Modern networking does not use network classes. When there were network classes, any network with a mask length longer than the class default mask length was a subnet of the network. Since CIDR, a subnet is any network with a mask length longer than a network of which it is part. The term network can be applied to any subnet. Technically, any network is a subnet of . Today, the terms can usually be used interchangeably. You normally would use subnet when comparing to a larger network, or as a verb when chopping a network into smaller networks. 

Yes, the Cisco 2821 can run BGP. What you need to clarify is the level of BGP advertisements. Are you receiving the full Internet routing table? If so, you probably8 need a router with more resources. When you ask about dual WAN routers, understand that your routers have no idea what is WAN or LAN. The routers route between networks, and any or all of the networks could be WAN or LAN (however you define that). 

You must be using a serial connection. A serial connection needs the host on one end to be a DTE (Data Terminal Equipment), and the host on the other end to be a DCE (Data Communications Equipment). A DTE talks to a DCE. The router configured as DCE is the one where you set the clock rate and other interface parameters. 

Distance-vector protocols use a vector (direction) and a simple hop count (how many routers it must pass through) to determine how to get to a network. A router will look at the number of hops as the metric to determine the best path to send traffic destined for a particular network. Link-state protocols let each router get a complete picture of the area in which they reside. The metric is an arbitrary number, often called cost. Since each router knows all the paths to a particular network in its area, it compares the costs for each possible path to arrive at the path which it will use to send traffic destined for a particular network. Cost can be based on things like bandwidth (the usual default), or it can be any arbitrary number the network designer may wish to use. The cost for a path to a network is the aggregated costs for each link in the path. One problem with distance-vector routing is that it can send traffic to slower links which have less hops than faster links which have more hops, whereas link-state routing doesn't care about the number of hops, only the cost, to get to the destination network, and the cost can reflect something important like the bandwidth of the path. Distance-vector routing also has convergence problems compared to link-state routing. 

You seem to be trying to mix NAT implementations. Try this for addresses to (although I would not recommend allowing the switch to access the public Internet).: 

Devices on the same IP network must have different addresses. Your routers' interfaces will be in the same network, so they will need to have different addresses. The addresses can be any of the usable network addresses, e.g. to . 

Routing is a layer-3 function. An application, like Gnutella, happens at a higher layer which uses layer-4 for the end-to-end connection. Routing is independent of the application. Certainly, there is probably static routing between such applications, but the application is unaware of the routes used. Having said that, new technologies (e.g. SDN) will allow the application to have more say in how routing happens. 

Your application protocols, e.g. HTTP/HTTPS, may also need to be fixed. Also, if your web browsing is using SSL, then you can have other problems, too, that may be much more difficult to deal with since the TCP payload will be encrypted. Unfortunately, protocols above OSI layer-4 are explicitly off-topic here. 

In other words, your firewall doesn't have the throughput to handle the speed at which you are trying to transfer data. 

FYI, there really is no such thing as Category-5, anymore. Categories 1, 2, 4, and 5 have all been de-regsitered/de-certified by ANSI/TIA/EIA, the standards bodies responsible for cable categories. 

On every VLAN, except VLAN 10, we are dropping inbound echo requests destined to VLAN 20. VLAN 20 can still send echo requests to all other VLANs, and the other VLANs can still send echo replies back to VLAN 20. 

The 3650 will switch layer-2 at wire speed, even if you have it fully populated. You cannot get more traffic into the switch than it has ports. When it comes to routing, there are too many variables to answer with the little information you have provided. Certainly, any configuration which causes the routing to be process switched will severely impact performance. A problem you will have is the access to distribution bandwidth ratio, but this will be a concern with any distribution switch. You don't say over how many access switches the user will be spread, but let's assume six 48-port access switches connected to you distribution switch. That gives you just over 40 users per switch. If the users ports are 1 Gbps ports, that means that you should have, at least, 2 Gbps uplinks from each access switch to the distribution switch in order to meet Cisco's recommendation of a 20:1 access to distribution bandwidth ratio. The next bandwidth ratio you need to worry about is the distribution to core bandwidth ratio. Cisco recommends this be no more than 4:1. For each 4 Gbps bandwidth coming into your distribution, you need at least 1 Gbps from the distribution to the network core. Whether or not a 3650 will meet your needs depends on how you configure your network topology, and what sort of routing controls you use, but it could work in some cases with 250 users. I have seen the Cisco 3K switches used as distribution switches for a lot more than 250 users with no problems. You just need to carefully plan the use. 

One problem with removing interfaces from a channel is that it is a link, and you suddenly have multiple links between the two devices: the channel and the interface removed from the channel. Then you have have STP deciding which link is blocking, and which link is forwarding, and you may not want what STP decides (the failing link is the one forwarding). You can certainly get alerts on interface/link problems via SNMP or some other alert mechanism that you have set up. 

Did you try ? That will delete the OSPF process. If you have created any interface specific OSPF configurations, you will need to deal with those individually. 

Some switches will have some (but not a lot of) buffers for this situation. Basically, the switch will just drop frames which it cannot send from a high-speed to a low-speed link. That's why you normally use lower speed ports for access ports, and the faster ports for uplink ports. Cisco recommends, at most, a 20:1 access to uplink bandwidth ratio (add up the bandwidth of all the access ports and compare it to the uplink speed); for every 20 Gb of access ports, you need at least 1 Gb in the uplink. 

You need to make sure that 100BASE-FX is what you really want. That is a very old standard that is not well supported in modern equipment. 

Routers route between networks. Each router interface is a separate network. Each router interface needs to be a different network (subnet), otherwise you will need to set up some sort of NAT for each network. I doubt you would consider your PC to be on the same networks as Google, even though your PC contacts Google by a router connection. So, yes, your servers will be on different networks, even if those networks are connected with a router. 

First, private IP addresses are real IP addresses. I assume you mean which IP addresses can be routed on the public Internet vs. which IP addresses cannot. Check to see if the IP address is in one of the ranges marked as under in the IANA IPv4 Special-Purpose Address Registry. If it is, it cannot be routed on the public Internet. Also, multicast addresses () cannot be routed on the public Internet. You can do the same thing for IPv6 with the IANA IPv6 Special-Purpose Address Registry. The globally routable IPv6 addresses all fall in the range, but there are address ranges within that which are not routable on the public Internet, and any multicast IPv6 address () is not routable on the public Internet. 

With NTP, authentication is controlled by the requester. An NTP server cannot force authentication on NTP clients; it is happy to send out unauthenticated NTP to clients. A client must request NTP authentication, and it will reject unauthenticated NTP if it has requested authentication. The command tells a device to be the master clock when an NTP source is not available. This is an oft misunderstood command that is rarely necessary. The command merely sets up what the authentication key is. Notice that you set up the key on the server. If that command required authentication, then the NTP server would also require the authentication of its NTP server (NTP is layered). The command says that the NTP client will require authentication from its NTP server. The command tells the client which of the configured keys to use. The command tells the client which NTP server to use. 

Switches are designed to switch within VLANs, and routers route between networks (VLANs). Cisco routers can bridge, but that is an expensive way to switch. You didn't say what router model, so I can't be specific on how to do it. 

If you really want to learn how to do this correctly, you will need to get (buy or rent) a very expensive cable tester to see if what you terminate actually passes the Category-6a test suite. Building Category-6a patch cables is something I have never seen even experienced installers be able to do and get it to pass the test suite. I have only seen factory built patch cords be able to pass the test suite for Category-6 and Category-6a. 

Originally, UDP was chosen over TCP because of its lower latency and processing requirements. Also, if ISPs followed the IETF standards, this wouldn't be an issue. There has been a movement to add TCP as an alternative, and there was a draft RFC (A TCP transport for the Internet Key Exchange draft-ietf-ipsecme-ike-tcp-01), which expired. The problem you describe really lies in two places: cheap consumer-grade equipment, and ISPs which don't follow the IETF standards, especially when implementing CGN. Many in the IETF have no sympathy for either of those situations, which is why the proposed RFC expired, and, I suppose, the point is that the standards become meaningless when the tail wags the dog: the IETF doesn't want to be bullied into new standards simply because vendors and ISPs don't/won't follow other, existing standards (e.g. handling fragmentation). Some equipment vendors have created workarounds (e.g., UDP packets encapsulated by TCP), but that is far from universal or standardized. You could lobby or join the IETF to express your support of a standard for using TCP. 

A routed port is specifically not a switch port. You are putting the command on the port to disable the switching functions. It becomes a router interface. SPAN will not work on a switch port which is routed. Some Cisco devices (very few) can use ERSPAN to route SPAN traffic, but the 3560G is not one of them. SPAN and RSPAN are layer-2 only and ERSPAN is across layer-3. Understanding SPAN,RSPAN,and ERSPAN 

Routing and network protocols are standardized. The Internet is vast heterogeneous network using routers, switches, servers, clients, etc. from many different vendors. Why would you think otherwise? 

Unless you enable routing on a layer-3 switch, it is only doing layer-2 switching, not anything with layer-3. How do you suppose that the networks on one side know where to send traffic destined for the networks on the other side? Routers, including layer-3 switches, need to know where to send traffic, otherwise the traffic gets dropped. Routers get routers three ways: