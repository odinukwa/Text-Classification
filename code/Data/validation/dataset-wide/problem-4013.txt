A precise solution to this problem is known. In Khintchine's book on continued fractions it says: $\mathbf{Theorem~30}$ Suppose that $\varphi(n)$ is an arbitrary positive function with natural argument $n$. The inequality $$ a_n = a_n(\alpha) \geq \varphi(n) $$ is, for almost all $\alpha$, satisfied by an infinite number of values $n$ if the series $\sum_n 1/\varphi(n)$ diverges. On the other hand, this inequality is, for almost all $\alpha$, satisfied by only a finite number of values of $n$ if the series $\sum_n 1 /\varphi(n)$ converges. (quoting from: A. Ya. Khintchine. Continued Fractions. University of Chicago Press, 1964) 

Assume that $N=2^k$, and let $\{n_1, \dots, n_N\}$ denote the set of square-free positive integers which are generated by the first $k$ primes, sorted in increasing order. Question: what is a good lower bound for $$ \min_{1 \leq \ell_1 < \ell_2 \leq N} ~ \frac{n_{\ell_2}}{n_{\ell_1}}. $$ Remark 1: Since by assumption $n_{\ell_2} > n_{\ell_1}$ for $\ell_2 > \ell_1$, a trivial lower bound is 1. Remark 2: By the prime number theorem, the largest number $n_N$ is of size roughly $e^{c k \log k}$ for some $c$. Thus an obvious lower bound is something like $$ \frac{e^{c k \log k}}{e^{c k \log k} -1} \approx 1 + \frac{1}{e^{c k \log k}}. $$ The questions is if an essential improvement of this simple lower bound is possible. In particular, it would be nice to get a lower bound of size roughly $$ 1 + \frac{1}{e^{c k}}. $$ (All constants $c$ in these statements are generic positive numbers, their specific values are not of interest for me. Also, I don't care about small values of $k$ or $N$, but about an asymptotic result.) Edit: It would already be very helpful to know that 1% (or any other fixed percentage) of all possible quotients of consecutive numbers $n_{\ell+1}/n_\ell$ satisfy the desired lower bound. 

Let $(n_k)_{1 \leq k \leq N}$ be a sequence of distinct positive integers. For $v \in \mathbb{Z}$ set $$ A_N(v) = \# \Big\{ (k,\ell) \in \{1, \dots, N\}^2, ~k \neq \ell:\quad n_k - n_\ell = v \Big\}. $$ Assume that $$ \sum_{v \in \mathbb{Z}} A_N(v)^2 \geq \varepsilon N^{3} $$ for some $\varepsilon > 0$. (Assume that $\varepsilon$ is fixed and $N$ is "very large".) Question: Does the sequence $(n_k)$ necessarily have a strong arithmetic substructure? In particular, does there necessarily exist a number $w$ such that all the numbers $$ A_N(w), \quad A_N(2 w), \quad A_N(M w) $$ for some "large" value of $M$ all are "large"? (If so, please provide something quantitative, such as: $A_N(h w) \geq const(\varepsilon)N$ for all $h \leq H(N)$ for a certain function $H$.) (Remarks: the natural example of a sequence for which $\sum A_N(v)^2$ is large is the sequence $(1, 2, \dots, N)$. For this sequence we clearly have the desired phenomenon. Note that the given lower bound for $\sum A_N(v)^2$ is quite strong, since trivially $\sum A_N(v)^2 \leq N^3$ by the fact that all $n_k$'s are different.) 

In metric Diophantine approximation you are often interested in finding conditions on $(\phi(q))_{q \geq 1}$ which guarantee that $$ \left| \alpha - \frac{p}{q} \right| < \frac{\phi(q)}{q} $$ has infinitely many integer solutions p,q for almost all $\alpha$. (Often you also assume that $p$ and $q$ must be coprime, but this is not the point in my question). A problem of this type is for example the famous (unsolved) Duffin-Schaeffer conjecture, see $URL$ The problem can also be written in the following form: Let $A_1, A_2, \dots$ be intervals on the torus (of length $\leq 1$), which are symmetric around 0. Let $\psi_1, \psi_2, \dots$ denote the Lebesgue measure (that is, the length) of these intervals. Under which conditions on $\psi_1, \psi_2, \dots$ do we have $$ \sum_{n=1}^\infty \mathbf{1}_{A_n} (n \alpha) = \infty $$ for almost all $\alpha$ (here $\mathbf{1}_A$ is the indicator function of $A$. Also, everything is understood to take place on the torus, so the indicators are extended with period 1.) Now you may generalize the situation in a first step to the case when the intervals $A_1, A_2, \dots$ are not necessarily symmetric around $0$. Then you get a problem in inhomogeneous Diophantine approximation. This type of question is also quite well-investigated. Now my question is the following: what happens is if don't assume that $A_1, A_2, \dots$ are intervals, but if they may denote any measurable sets in $[0,1]$. Again, write $\psi_1, \psi_2, \dots$ for the measure of these sets. Under which conditions on $\psi_1, \psi_2, \dots$ do we have $$ \sum_{n=1}^\infty \mathbf{1}_{A_n} (n \alpha) = \infty $$ for almost all $\alpha$? Are there any sufficient conditions? (Note that a necessary condition is the divergence of the sum of the measures, by Borel-Cantelli). Does it help if the sequence $(\psi_n)_{n \geq 1}$ is monotonic? Are there any known results at all about this general problem? (Remark: This question is distantly related to Khintchin's conjecture, which was disproved by Marstrand in 1970. See $URL$ (Remark 2: The sequence $(n \alpha)_{n \geq 1}$ mod 1 has an interpretation in terms of ergodic theory, but I don't think that this will help here.) 

Let $\mathbb R$ be endowed with the standard Euclidean topology and let $\widetilde {\mathbb R}$ denote the line endowed with the discrete topology. Let $\mu$ and $\nu$ denote the Lebesgue and counting measures on these two spaces, respectively. Define the product measure in the usual way: $$(\mu\times\nu)(E)\equiv\inf\left\{\sum_{k=1}^{\infty}\mu(A_k)\cdot \nu(B_k)\,\Bigg|\,E\subseteq\bigcup_{k=1}^{\infty}A_k\times B_k,\,A_k\in\mathscr B_{\mathbb R},\,B_k\subseteq\widetilde{\mathbb R}\,\forall k\right\}\tag{*}$$ for any $E\in\mathscr B_{\mathbb R}\otimes 2^{\widetilde{\mathbb R}}=\mathscr B_{\mathbb R\times\widetilde{\mathbb R}}$ (the latter two $\sigma$-algebras can be shown to be equal). Let $E\equiv\{(x,x)\,|\,x\in[0,1]\}$. It is known that if $\widetilde{\mathbb R}$ is endowed with the Borel $\sigma$-algebra (instead of the discrete $\sigma$-algebra) and the counting measure, then, once one replaces “$B_k\subseteq\widetilde{\mathbb R}$” with “$B_k\in\mathscr B_{\mathbb R}$” in $(*)$ above, one has $(\mu\times \nu)(E)=\infty$ (with the redefined product measure). My question is whether this conclusion still holds if $\widetilde{\mathbb R}$ is endowed with the discrete topology and the associated discrete $\sigma$-algebra instead. (Note that the $\sigma$-algebras on $\widetilde{\mathbb R}$ are associated with the counting measure in both cases.) One might conjecture that allowing for more general sets in $(*)$ (i.e., arbitrary subsets of $\widetilde{\mathbb R}$ instead of just Borel subsets) may bring the infimum down—perhaps even to zero—with some clever choice of a countable collection of rectangles that cover $E$ and involve non-Borel sets (say, some carefully chosen Vitali sets). Yet, a rigorous proof has eluded me so far. Any thoughts are greatly appreciated. 

My question is: Do you think the second statement can be used to prove the existence of a continuous real-valued functional $F:X\to\mathbb R$ that doesn't attain its supremum on $C$? Do you think trying extending $f$ onto the whole space by using the Hahn–Banach theorem, or Zorn's lemma, could lead to anything useful? References 

UPDATE: In fact, $(\mu\times\nu)(E)$ should be zero. Bogachev (2007) (in Example 7.14.65, pp. 154–155) claims that the measure $$E\mapsto\sum_{y\in\widetilde{\mathbb R}}\mu\left(\{x\in\mathbb R\,|\,(x,y)\in E\}\right)$$ coincides with $(\mu\times\nu)$, as defined above in $(*)$. This, if true, readily implies that $(\mu\times\nu)(E)=0$, but no proof is provided. 

The “only if” part is trivial, while known proofs of the “if” part are notoriously involved. Some texts prove it only for the case in which $X$ is assumed to be separable (see, for example, Holmes, 1975, pp. 157–161). Some sources do not make this extra assumption, yet they tend to be still too involved for my taste and patience (see, for example, Pryce, 1966). Using Holmes (1975), who treats only the separable case, I can prove the following statement: 

I got it. I just read Pryce (1966), which is more accessible than I had thought. The proofs by Pryce (1966) and by Holmes (1975) use almost identical ideas, it's just that the latter refrains from dealing with the non-separable case for some reason. Both proofs start out with assuming that $C$ is non-empty, weakly closed, bounded, but not weakly compact. In this case, there exist sequences $\{x_n\}_{n\in\mathbb N}\subseteq C$ and $\{f_m\}_{m\in\mathbb N}\subseteq X'$ with the amusingly pathological property that $\lim_{n\to\infty}\lim_{m\to\infty}f_m(x_n)$ and $\lim_{m\to\infty}\lim_{n\to\infty}f_m(x_n)$ both exist in $\mathbb R$ but they are not equal. Holmes (1975) actually constructs these sequences in a transparent way, but Pryce (1966) does not, just gives a quite obscure reference. Pryce (1966) claims also that the family $\{f_m\}_{m\in\mathbb N}$ is equicontinuous, while the construction of Holmes (1975) states that this sequence is in the closed unit ball of $X'$. What I was intimidated about is that I hadn't recognized immediately the fact that any non-empty family of functionals in the closed unit ball of $X'$ is actually equicontinuous. However, once I recognized this, I could delve into the proof by Pryce (1966) with more confidence and enthusiasm. By the way, the trick Pryce (1966) uses is to consider the separable (with respect to a certain seminorm-topology) subspace of $X'$ given by the linear span of $\{f_m\}_{m\in\mathbb N}$, while Holmes (1975) uses the assumption that $X$ is separable to ensure that the closed unit ball in $X'$ be metrizable in the weak* topology. The point in both cases is to ensure the existence of a subsequence of $\{f_m\}_{m\in\mathbb N}$ with certain properties. I don't really understand why Holmes (1975) makes the separability assumption—certainly restrictive for a textbook that is supposed to make the proofs in published papers more accessible. The trick by Pryce (1966), ingenious as it is, is actually quite elementary and does not require the separability assumption. At any rate, I suggest anyone interested in an accessible proof of James' theorem read first the section in Holmes (1975) that constructs the pair of sequences mentioned above, and then immediately switch to Pryce (1966) and put those sequences into action. The end result will be the construction of a linear functional in $X'$ that fails to attain its supremum on $C$!