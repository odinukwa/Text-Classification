For finite groups $G$ of odd order, as $x \mapsto x^2$ is bijection (but no automorphism in general) then, we can define for each $g \in G$ the element $x^{1/2}$ by requiring $(x^{1/2})^2 = x$. Then with the new operation $$ x\circ y := x^{1/2} y x^{1/2} $$ we get a power-associative loop satisfiying the relations $$ x\circ (y \circ (x \circ z)) = (x\circ (y\circ x))\circ z $$ and $$ (x\circ y)^{-1} = x^{-1} \circ y^{-1}. $$ If the first is satisfied, such loops are also called (left) Bol loops, and if both additional equations hold they are called (left) Bruck loops. These definitions go back to ideas of G. Glauberman: On loops of odd order. Now I want to know, under what conditions for $G$ to we indeed have associativity? As $1 \in G$ is also neutral for the new operation, and also every inverse is also an inverse in the new operation, the question is under what conditions is $(G, \circ)$ also a group? 

An automaton $\mathcal A = (X, Q, \delta, q_0)$ is called permutation-free iff no word $w \in X^*$ induces a nontrivial permutation of a subset of the states of $\mathcal A$. More formally for any $R \subseteq Q$ and any $w \in X^*$, $\delta(R, w) = R$ implies $\delta(r, w) = r$ for all $r \in R$. Let $\mathcal A = (X, Q, \delta, q_0)$ be a complete permutation-free automata. Let $\xi \in X^{\mathbb N}$ an infinite word, and let $R \subseteq Q$ be the set of words visited by $\xi$ in $\mathcal A$. Also let $k$ be such that the first $k$ symbols considered as a finite word visit all states from $\mathcal R$ and choose $k$ so that it is minimal. Also let $\eta \in X^*$ be a second infinite word with the property that the first $k$ symbols of $\eta$ and $\xi$ coincide (so that $\eta$ visits at least the states from $\mathcal R$) and that all infixes up to a length of $k$ are the same. I conjecture that $\eta$ visits exactly the states from $\mathcal R$, i.e. there is no state outside of $\mathcal R$ visited by $\eta$. Any ideas how to proof that? (btw I specify no final states because they are not relevant to the problem at hand). To clarify the definition of permutation-free automata, I append a picture. 

Let $\mathcal A = (X, Q, \delta, q_0, F)$ be a deterministic finite automata with the following acceptance condition on infinite words: The automata accepts $\xi \in X^{\omega}$ with respect to $F$ iff $$ \forall i : \delta(q_0, \xi[0...i]) \in F. $$ Meaning that every prefix $\xi[0...i]$ of $\xi$ goes to an acceptance state. With $L'(\mathcal A)$ I denote the set of all accepted infinite words. Now such automata have a special form, a word is accepted iff it just passes through certain allowed states in $F$, otherwise it is rejected if it ever enters a state from $Q\setminus F$. This by the way means that if $\mathcal A$ is reduced and complete, it has exactly one non-accepting trapping state $s$, because every word which enters $s$ needs to ultimately stay there, because the word gets never accepted, regardless of what comes there after $s$ was entered. Now I define $F_n(\xi) := \{ w \in X^* : w \in \mbox{infix}(\xi) \cap X^n \}$, the set of all factors (or infixes) of $\xi$ of length $n$. Then $$K_n(\xi) := \xi[0...n] \cdot X^{\omega} \cap \{ \eta \in X^{\omega} : F_n(\eta) = F_n(\xi) \}$$ is the set of all infinite words which share with $\xi$ a common prefix of length $n$ and which have the same set of factors of length $n$. Now I conjecture: If $\xi$ is accepted by $\mathcal A$ according to the above mentioned acceptance condition, then there exists a $n > 0$ such that $$ K_n(\xi) \subseteq L'(\mathcal A) $$ meaning that if $\xi$ is accepted there exists a $n > 0$ such that every word which share with $\xi$ a common prefix of length $n$ and all factors of length $n$ (and up to $n$) is also accepted. Intuitively I guess this is right, because if $\xi$ is accepted, and because $\mathcal A$ is a finite automata, then as $\xi$ goes through the states it eventually ends in some cycle, which I guesss bound the possible factors, and the prefix condition could be used to ensure that another word would end in the same cycle. If $\xi = uv^{\omega}$ for finite $u, v$, i.e. if $\xi$ is ultimately periodic I guess a construction would be to determine the smallest $k$ such that $F_k(\xi) = F_{k+1}(\xi)$, so the number of factors of length $k' > k$ is the same as $|F_k(\xi)|$, and set $n := k + 1$. Then I conjecture $$ K_{n}(\xi) \subseteq L'(\mathcal A). $$ (I have no proof) Maybe this works also for non-ultimately periodic words, but I could not proof it. So any ideas? Or maybe an idea how to proof my conjecture? 

Let $(\Omega, \mathcal F, P)$ be a probability space, and let $\mathcal G \subseteq \mathcal F$ be a sub-$\sigma$-algebra of $\mathcal F$ and $X : \Omega \to \mathbb R$ a random variable. Then the conditional expection of $X$ conditioned on $\mathcal G$ is defined to be the a.e. unique random variable $Y$ such that (i) $Y$ is $\mathcal G$-measurable, and (ii) for each $A \in \mathcal G$ we have $$ E[X\cdot 1_A] = E[Y\cdot 1_A]. $$ And it is denoted as $Y := E[X | \mathcal G]$. For a random variable $Z$ the conditional expection conditioned on $Z$ is defined as $E[X | Z] := E[X | \sigma(Z)]$. These two notions are equivalent, so now my question. Given a condtional expectation $E[X | \mathcal G]$ w.r.t. some sub-$\sigma$-algebra $\mathcal G$, how to find a random variable $Z$ such that $$ E[X | Z] = E[X | \mathcal G] \quad \mbox{a.e.}? $$ 

Let $f : (\Omega, \mathcal F) \to (\mathbb R, \mathcal B(\mathbb R)$ be a measurable map, then it is well-known that $f$ could be approximated by a sequence $(f_n)$ of simple measurable functions, such that (i) $0 \le f_n(\omega) \uparrow f(\omega)$ if $f(\omega) \ge 0$, and (ii) $0 \ge f_n(\omega) \ge f(\omega)$ if $f(\omega) \le 0$. Now does there exists a similar result for arbitrary measurable maps $f : (X, \mathcal F) \to (Y,\mathcal G)$ (i.e. $f$ need not be a real or complex function)? For this the notion of simple function must also be generalised, but I think this is quite easy, as simple just means that $f(X)$ is finite and $\{ f = c \} \in \mathcal F$ for all $c \in f(X)$. 

Let $\eta$ be an $\omega$-word over $X = \{0,1\}$ and let $F_k(\eta)$ denote the factors of $\eta$ of length $k$. Define the following $\omega$-languages $$ L_k := \{ \xi : F_k(\xi) = X^k \} = \{ \xi : \xi \mbox{ has every finite word of length k as an infix} \}. $$ Then define $$ L := \bigcap_{k=1}^{\infty} L_k = \{ \xi : \xi \mbox{ has every finite word as an infix/factor } \}. $$ Now I want to know if $L$ is $\omega$-rational/regular, or BÃ¼chi-recognizable. I conjecture not, because no finite state device could check all factors of arbitrary length. The only methods of proof I know is a variant of the pumping lemma for $\omega$-languages which does not work here, because if I pump a word it is not guaranted that the factors get lost. So how could I proof that the set is not rational? 

Let $\xi$ be an ultimately periodic sequence, i.e. there exists finite sequences $p, q \in X^*$ such that $\xi = pq^{\omega}$. Does there exists a $n > 0$ such that the prefix of length $n$ and all infixes of length $n$ determine $\xi$ uniquely, meaning it is the only word with this prefix and infixes. Some context: I am currently searching for conditions under which a prefix and a set of infixes (or factors) determine a word uniquely. I guess this problem should be solvable for ultimately periodic words. If $\xi$ is just periodic, i.e. $\xi= q^{\omega}$ then this is easy, because choose $q$ minimal, meaning such that it is not a power of some other finite word (such words are called primitive), then the factors of length $n := |q|$ determine $\xi$ unique. For suppose $\eta$ is another word with the same prefix and factors of length $n$, then $\eta = q\tau$, now look at the word $\eta[2...n+1] = q[2...n] x$. Because $\eta$ has the same factors as $\xi$, and all factors of $\xi$ are conjugates (i.e. cyclic permutations) of $q$, there must be $i$ such that $q[2...n] x = q[i+1...n] q[1...i]$. As $q$ was choosen primitive it must have exactly $n$ different conjugate words (this is a well known fact about primitive words) so that $i = 1$ follows (otherwise there would be fewer then $n$ conjugates) which implies $x = q[1..1] = q_1$. Proceeding inductively in this way we see that $\eta = q^{\omega}$. But I am unable to extends this to ultimately periodic sequences, because the prefix $p$ could be anything. So any suggestions or help? Some remarks on notation: If $w$ is a finite sequence, by $w[i...j]$ I denote the subsequence from the $i$-th up to the $j$ position $w[i...j] = w_i w_{i+1} \cdots w_{j}$.