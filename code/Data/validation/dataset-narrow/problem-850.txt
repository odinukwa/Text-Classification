Have you tried rebooting your router? The fact that some of the servers behind your NAT gateway work, but others do not leave me to believe that the problem is on your end, not Amazon's. If it's a consumer grade device, try updating the firmware. What brand/model is it? 

Cisco and SonicWall VPN's are both IPSec-based (as are most VPNs used in the corporate world). You can interconnect them if you set up a site-to-site VPN. We do this all of the time with our clients to avoid the same problem you're encountering. Our firewall is just a Linux box running iptables and a IPSec daemon called "Raccoon". You just have to make sure that the dozen or so different settings all match. 

From the sound of the error message, it seems like I also need to dedicate eth0 (PCI ID 01:04.0) to the domU. Am I correct? If not, what am I doing wrong? Thanks! 

I have successfully set up OpenVPN connection between my firewall at home and my EC2 instances. It works quite well, but I'm using Linux at both endpoints, so my experience won't directly translate to your config. As much as I hate IPSec VPNs, you might find that an easier route to try. Have you looked into Amazon's new "Virtual Private Cloud" service yet? This sounds ideal for your needs. 

This solution still doesn't allow different processes to bind to the same port. And I'm not even sure that I'm on the right track here by looking for an iptables solution. Any suggestions? Is there maybe a hack that be applied in userland? Thanks! 

Ideally, I don't want this large of a range specified. Is there any way I can specifically configure and ? 

Selecting the older kernel version at boot allows me to boot normally. This problem is reproducible across all four of the VMs I've tried the upgrade on. They're all CentOS 6.2 x64 guests on the same CentOS 6.2 x64 host. The filesystem for each VM lives on a iSCSI SAN volume. Here is the VM's file: 

Given your requirements, I would agree that using a VPC is the most optimal solution. Since it sounds like you've done your research, you know that a VPC allows much finer-grained control over subnet and host addressing. To answer your question, that is the "best practices" approach. What I would do is create two private subnets, one in each AZ, and place an Elastic Network Interface with a static, private IP address in each subnet. Then you can attach/detach the ENI to the appropriate instance at will. This allows some cool stuff and functions like hot-swapping a NIC between servers while traffic is still flowing through it. Yes, there is a significant learning curve with setting up a VPC, but the tradeoff is greatly increased security and flexibility when using multiple EC2 instances that need to talk to each other. It's worth noting that utilizing the AWS API (as you also mentioned) is also a viable solution for your immediate needs. But the further you go down this path of writing a custom solution, the more time consuming it becomes to maintain as your needs grow. 

Yes, if you have reserved instances purchased in , for example, then you explicitly want to specify at launch. RI's are purely a backend billing thing that function like an invoice credit. The EC2 instances themselves have no awareness of whether they're an RI or not. The way RI's are handled is actually one of my top five complaints about AWS. I'm hoping that they improve on this soon. 

The obvious answer is to do what the error message suggests and boot with the "irqpoll" option. However that has no affect, regardless of whether I boot the dom0 or the domU with "irqpoll". Does anyone have any suggestions? I'm getting somewhat desperate here... Additional Technical Details Truncated "lspci -vv" output on dom0: 

In this instance, the OpenVPN would be used to logically extend your LAN. This would allow your devs to connect to the web server, database, etc. as if the EC2 instance was a computer plugged into your network. The alternative is to tunnel everything through a SSH connection using port-forwarding. Each developer would have to manually set up their SSH client to do this and for each TCP port they wanted to connect to. Functionally, these two options are equivalent (and even use the same encryption technology). But a VPN is generally easier for users to use because it "just works". 

Wow... you're taking me way back. I used to work front line support at an ISP back when softmodems hit the shelves. Soft modems were sometimes a problem because they didn't do any of the DSP stuff on the modem itself, but within the OS driver. This was cool because you could add new features to the modem with a driver upgrade. It was also the source of many problems because you were relying on Windows to do the job previously left to dedicated hardware. More info at Wikipedia: $URL$ 

I spun up a Remote Desktop Server instance on Amazon's Virtual Private Cloud service... What's the best/easiest way to print from the VPC to local printers? The local printers are IP based, but not "cloud printers". I'm familiar with how Cloud Printing works for Chrome, but is there a way to install a cloud printer as a regular Windows printer on a Remote Desktop Server and "just have it work?" 

Another option - which I actually did - was to use ImageX to write an image of the second drive to the first drive, disconnect the second drive, import the VM with the vCenter AWS import tool and then add a volume to the imported VM and use ImageX to expand the image back to the second volume. Worked flawlessly! 

I installed the vCenter connector and it said "lol, can't upload VM with two disks." So I disconnected one of the disks and uploaded the VM and now I need to upload the second disk and rejoin it to the VM - if possible. I thought I might just attach the second disk to a new default VM and upload, but now import says "ClientError: No bootable partition found." What are my other options? 

I have Folder Redirection turned on so the profiles are on a Windows shared folder on a File and Print Server... \folders\Profiles I want to back up the entire Profiles directory, but as Domain Admin I don't seem to have the privileges to "select all and copy" the entire directory structure. The user profile subfolders (Appdata, Documents, Desktop, Pictures, etc.) throw access denied errors... I tried to grant Domain Admins full privileges to the Profiles directory and thought the subfolders would inherit the privileges, but I get access denied errors just trying to set the permissions... How can I assign a user to the Profiles directory so that I can copy the entire directory tree to back it up? 

I have two AD servers separated by a T1. Location A, which hosts the primary AD / DNS / Roaming Profiles server is subnet 192.168.0 Location B, which is the secondary AD server (I'm trying to configure but...) is on subnet 192.168.1 I understand this may be a DNS issue. The only DNS server I have assigned to that subnet via DHCP on a Sonicwall is the AD server in Location A. I got positive results from DNS tests in ping and nslookup. I have joined, unjoined, rejoined the domain. All Event Viewer is telling me that the login is taking too long, it took 931 second, it's taking to long to log off, and there's a csc resource cannot be loaded... Is it simply that the profile is too large in size for the T1? I've enabled Folder Redirection - still taking forever, stuck at "waiting for user profile service". Note that this happens on both Win2k8R2 and regular Windows 7 in Location B. Now happening at Location A as well... [Possibly fixed - it may just be raw profile size, even with folder redirection on] What is the best way to troubleshoot this issue? 

I have an RDS server with about a dozen printers installed. Is there a way to remove all buta few certain printers for a particular user? I don't mean that I want to "secure" the other printers to keep them from printing to them, but literally filter which printers appear in their available printers list. 

I see the policy to force removal of the Downloads "link" in the Start Menu, but is there a way to force Downloads to be present by default? 

I was copying a VM between datastores last night when I looked away and then the vCenter host started restarting due to Windows update... The VM transfer between was aborted, but now the VMDK file it was transferring is locked and I can't start the virtual machine. The Knowledge base articles I've found are too cryptic, I just need to get the vmdk unlocked... How? vCenter / ESXi 5.0 Error: "Unable to access file [NEXSAN_SAS] rds-sv-ent/rds-sv-ent_1.vmdk since it is locked" More Details: "An unexpected error was received from the ESX host while powering on VM vm-261. Reason: Failed to lock the file. Cannot open the disk '/vmfs/volumes/4f4bb0fe-f7daabec-6a41-ac162d73a349/rds-sv-ent/rds-sv-ent_1.vmdk' or one of the snapshot disks it depends on. " 

I installed the SonicWALL Global VPN Client on a MS Server 2008 R2 File and Print server, connected the client to the local SonicWALL, and then installed the local printers on the remote print server and deployed them via Group Policy. This solution will work for legacy printers until I can replace them with "cloud enabled" printers. 

I have an ESXi host with the following virtual machines: 1 x Active Directory Server 1 x Remote Desktop Services Server 1 x SQL Database Server 1 x Accounting Software Application Server I have a second "blank/empty" ESXi host. In theory, what I wanted to do was simply schedule the VMs to be cloned the second host as a backup. If something happen to the first server, I could simply boot the VMs on the second machine and resume as if the first never went down. In practice, this seems a lot less practical having done quite a few searches here on SF. My main concern is the integrity and consistency of the SQL database... This backup strategy does not seem to be recommended for SQL servers due to unwritten data residing in memory. I suppose I could shutdown the server, clone it, then reboot, but in my perfect world, I'd like to duplicate these VMs at least nightly while still live. What would be the best backup strategy for replicating these particular types of servers to a second ESXi host nightly while they are still live? Consider separate options for a budget of $1,000 and a budget of $10,000. Is there a better possible backup strategy as a whole?