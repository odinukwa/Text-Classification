Are there any guides, howtos, books, etc about installing and maintaining a publicly-accessible Windows Server 2008 (with IIS and SQL server) for programmers (that want to deploy their own apps)? 

Also, there's no reason to have separate files. I have one file pupeno.com.conf which includes the definition for non-ssl and ssl pupeno.com virtual hosts. Think about what you want to enable and disable in one go with a2ensite and a2dissite. I consider $URL$ and $URL$ the same thing thus it's on pupeno.com.conf. 

and I get logged in without being asked for a password because I already copied my public key. Due to forwarding, I should be able to ssh to pupeno@b1 from b1 and it should work, without asking me for a password, but it doesn't. It asks me for a password. What am I missing? This is the verbose output of the second ssh: 

I ended up destroying volumes, not everything but the oldest ones. One by one leaving space for the new backups. I've run out of space and had to re-do this several times. Painful, boring and slow. 

Is there a difference between putting Directory tags inside or outside VirtualHosts? I found a configuration file that has several VirtualHosts all with the same Directory tag inside, and the same outside; so I'm thinking of getting rid of this duplication but I don't totally understand the semantics involved. 

I am currently having issues with being able to authenticate with RADIUS from our Cisco devices…it seems to partially work but I’m missing something apparently, hoping some experts can point me in the right direction. I have an ASA 5510 and VPN configured on it. I have Windows Server 2008 R2 setup with the NPS role acting as the RADIUS server (only, not using NAP, etc, just setup for RADIUS). I setup VPN recently and it seems to be working fine, but now I’m trying to configure it so that I can use my AD credentials to login to our switches as well, but I can’t get it to divide the two…for instance, all Domain Users can use VPN, but only the NetworkGroup should be able to access the other Cisco devices. Under RADIUS Clients I have created a client named VPN, it has the IP address of our inside interface on the ASA, Device Manufacturer as Cisco and Enabled. I have a client named Switch with the IP address of the switch I’m testing on, Cisco as Device Manufacturer and Enabled. Under Policies > Connection Request Policies there is the default “Use Windows authentication for all users” which only has a Day/Time restriction as a condition but allows access anytime, under settings it has Authentication Provider – Local Computer and Override Authentication Disabled. I’ve added one called VPN (with open time restrictions and IPv4 address condition) and one called Switch (with open time restrictions and IPv4 address condition) here as well, thinking that’s what was needed, but during testing I find that I can disable them and it works just fine…but from reading I read there must be at least one policy in effect. I can disable the default one, but when I setup one of the others with the same credentials it doesn’t seem to take, I can’t login from the switch, I get error “Access denied - Using keyboard-interactive authentication.” If I enable the default CR Policy, it works again right away…basically it seems that it doesn’t care if I have or don’t have a policy in there for each device (and maybe I shouldn’t ?). Under Policies > Network Policies I’ve added two policies as well, one called Switch and one called VPN. The Switch policy is set with the condition of User Groups-Domain\NetworkGroup. Under settings I have: Cisco-AV-Pair with a value of shell:priv-lvl=15. Extended State with a value of blank. Access Permission with a value of Grant Access. Authentication Method with a value of Unencrypted authentication (PAP, SPAP). Nap Enforcement with a value of Allow full network access. Update Noncompliant Clients with a value of True. Service-Type with a value of Login. BAP percentage of Capacity with a value of Reduce Multilink if server reaches 50% for 2 minutes. Some of these settings I set in testing, others were there by default. The VPN policy is set with a condition of User Groups-Domain\DomainUsers. Under settings I have: Ignore User Dial-In Properties with a value of True. Access Permission with a value of Grant Access. Authentication Method with a value of Unencrypted authentication (PAP, SPAP) or MS-CHAP v1 OR MS-CHAP v1, OR MS-CHAPV2. Nap Enforcement with a value of Allow full network access. Update Noncompliant Clients with a value of True. Framed-Protocol with a value of PPP. Service-Type with a value of Framed. Some of these settings aren’t the same because I’ve been going back and forth for a couple of days trying different scenarios, so I’m honestly not sure if some of them are necessary… I do know that if I disable that one default policy under CR-Policy, I can’t login to the switch… if I disable the RADIUS client, I can’t login to the switch (makes sense), but if I disable the Switch Network Policy it still lets me login…assuming it’s just rolling down and taking the credentials from the VPN Network Policy which allows DomainUsers to login, and I’m in that group as well… So the outcome I’m striving for (sorry for such a long question, but trying to be as informative as possible!) is that I would like any of our end users in the DomainUsers AD group to be able to use VPN and dial up successfully, but not allow them to be able to remote into our switches and login the same way. I want only the NetworkGroup AD account to be able to login to those. How can I give access to both, securely? Sounds simple enough, and it looks simple on top but for the life of me it’s not working…if I take away the Switch Policy it still lets an end user (testing with an end user test account) login to my switch with the normal AD login (getting allowed by the VPN policy I assume). Please feel free to ask any questions or clarification, and thanks in advance for any help you can give! 

How do I set all volumes into Append mode in a Bacula server so it starts backing up from scratch? I have 70 volumes which are file volumes and due to a mistake it backed up too much and run out of space. I want to have everything reset to initial, like if the volumes were just created, so I could run a full backup and take it from there. I'd like to start backing them up in alphabetical order so I know that Volume-02 comes after Volume-01 chronologically. Any ideas how to do that? 

I've recently installed a new server and configure Bacula to automatically label up to 10 volumes. Very soon I've got a message that intervention was needed and when looking at it one volume was totally used and the rest in Append mode but not being used. I managed to get that original one into recycle mode, but the rest just remain in Append mode and backing up doesn't work. Here's some console output. My volumes 

As part of my deployment process I would run a chown -R www-data:www-data in all of /var/www/projectx. That is taking way too long, so instead of periodically fixing permissions, I want to avoid breaking them. I think one of the reasons why they are broken is because we run Rails-related commands on the server, like: 

I've testd them manually and they work just fine to remove the entries and allow the machine to boot up without a prompt. The thing is, I can't find the exact place to place them in the task sequence. I want them to run before the first login, so I placed them In Postinstall, before the Restart Computer task. That didn't work, gave an error. I tried right before that, before Next Phase, same issue. I try putting them after Restart Computer, but before State Restore and they don't error out, but they don't seem to run until I hit "OK" through the one prompt, then it runs and never prompts again. So it's progress as before it would prompt me to hit "OK" through the disclaimer after every reboot, now I only have to hit it that one time and it removes the line from the cached registry and never prompts again. I just can't figure out how to get it to run before it gets to that first prompt so that it doesn't prompt at all. It's so close to being fully automated... My only other thought is to re-do my capture and run that line first, but I would love to avoid that unless it's my only option left. Thanks for any help or advice you can give. 

I need to block an external email address in postfix from sending me emails. This is an external email address of a third party domain name that I'm not controlling. The reason why I need to block it is because they have something misconfigured and I'm getting a message saying "Warning, your message has not being delivered yet", every second or so. I already contacted their tech support, but they are taking a long time to fix it and in the meantime, my server and my users are suffering. I tried doing this. In my mail.cf I added: 

I created a bunch of upstart jobs for my services that I'm running on an Ubuntu 12.04. I can successfully start them and stop with with: 

Any ideas what's going on and/or how to fix it? As an alternative that I'm not too thrill about, I tried having an upstart job mounting those volumes. I added noauto to my fstab glusterfs entries so that they wouldn't be automatically mounted at boot item and created an upstart job with these content: 

I've checked that my IIS is running as NETWORK SERVICE so I've given read, read and execute and list folders contents access to not only E:\WebApps but also to E:. But I still get the error. This machine is not part of a domain. Any ideas what am I missing? I've tried putting a web.config in E:\WebApps, and restarting IIS and the site in particular, but it made no difference. 

We are currently looking at archiving emails and revamping our retention policy. The big question is (for the legal department), how far back do we want to save? Currently our users have a huge mailbox limit, and in the past have all been able to archive as they saw fit. So we have a couple hundred GB of data that isn't in the Exchange Database, but that we'd probably end up sucking into an Archive database for discovery. What I'd like to do is be able to quantify for the legal team how much that would be if we went back 1 year, 2 years, 3 years, etc. I found a fairly straightforward Powershell Script at TheDailyAdmin that does what I want for the most part, but it lumps it all in one pile. I'd like to be able to see the results but sorted by user to know that Sally has 47MB that is older than 2 years, Charles has 190MB over 2 years old, etc. Here is the script I've ran: 

I've read quite a bit online about this and thought I had found a solution, but it doesn't seem to be working like I would expect. I am wanting to get a user based on the username I input, then remove all groups that it is a member of. Basically the same thing as going into ADUC, selecting the user, selecting the Member Of tab, highlighting everything (except domain users of course) and selecting remove. Here's the command I'm trying to use: 

Is there a way to require a resource so that it's executed first, but if it's not present, just drop the current resource all together? 

Is there a way to automatically synchronize all zones between BIND (9) servers so that I don't have to add zones to the slave when I add them to the master? 

When I rebooted the server, the volume wasn't mounted. /var/log/upstart/mount_public_uploads.log contains: 

I couldn't found why this was happening but I solved it by using WP Super Cache; which greatly increased the performance of my Wordpress. 

I need a user with more than one key-pair for SSH. Is that possible? Is that possible without having to specify which key to use on each command? 

I'm using Puppet to administrate my servers and one of the things I'm doing is installing Mongrel from the Gem: 

That works fine. On the nodes where I include that class, firewalling is enabled. Then I have another class, for enabling OpenSSH: 

I don't have the whole answer but this is as close as I can get with the experiments I run. Once you run this command on a file system: 

I'd recommend setting up one of the two names to be the canonical and unique way to access your web site and the other to redirect to it. Don't use CNAME, or JavaScript redirection. Use HTTP redirection. Personally I redirect from www.example.com to example.com because I'm against www. The reason is quite simple: the fact that you are using a web browser and http already says that you are trying to access the web site at that location, no need to add more redundant information. Also, hr.example.com may be HR's web site, does that mean then that you have a www department at your company? and if not, then it should be www.hr.example.com, which looks rather bad.